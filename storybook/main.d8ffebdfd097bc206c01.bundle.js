(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1031:function(module,exports,__webpack_require__){var Teaser=__webpack_require__(66).Teaser;exports.component=Teaser,exports.package=__webpack_require__(1033),exports.dependencies={"o-normalise":"^1.6.0","o-date":"^2.11.0","o-typography":"^5.5.0","o-teaser":"^3.5.0","o-labels":"^4.2.1","o-video":"^4.1.0"},exports.stories=[__webpack_require__(1034),__webpack_require__(1036),__webpack_require__(1038),__webpack_require__(1040),__webpack_require__(1042),__webpack_require__(1044),__webpack_require__(1046),__webpack_require__(1048)],exports.knobs=__webpack_require__(1050)},1033:function(module){module.exports=JSON.parse('{"name":"@financial-times/x-teaser","version":"0.0.0","description":"This module provides templates for use with o-teaser. Teasers are used to present content.","source":"src/Teaser.jsx","main":"dist/Teaser.cjs.js","module":"dist/Teaser.esm.js","browser":"dist/Teaser.es5.js","types":"Props.d.ts","scripts":{"build":"node rollup.js","start":"node rollup.js --watch"},"keywords":["x-dash"],"author":"","license":"ISC","dependencies":{"@financial-times/x-engine":"file:../../packages/x-engine","dateformat":"^3.0.3"},"devDependencies":{"@financial-times/x-rollup":"file:../../packages/x-rollup"},"repository":{"type":"git","url":"https://github.com/Financial-Times/x-dash.git"},"homepage":"https://github.com/Financial-Times/x-dash/tree/master/components/x-teaser","engines":{"node":">= 6.0.0"},"publishConfig":{"access":"public"}}')},1034:function(module,exports,__webpack_require__){(function(module){__webpack_require__(19);var presets=__webpack_require__(66).presets;exports.title="Article",exports.data=Object.assign(__webpack_require__(1035),presets.SmallHeavy),exports.knobs=["id","url","type","showMeta","metaPrefixText","metaSuffixText","metaLink","showTitle","title","altTitle","showStandfirst","standfirst","altStandfirst","showStatus","publishedDate","firstPublishedDate","useRelativeTime","status","showImage","image","imageSize","indicators","headlineTesting","layout","modifiers"],exports.m=module}).call(this,__webpack_require__(9)(module))},1035:function(module){module.exports=JSON.parse('{"type":"article","id":"","url":"#","title":"Inside charity fundraiser where hostesses are put on show","altTitle":"Men Only, the charity fundraiser with hostesses on show","standfirst":"FT investigation finds groping and sexual harassment at secretive black-tie dinner","altStandfirst":"Groping and sexual harassment at black-tie dinner charity event","publishedDate":"2018-01-23T15:07:00.000Z","firstPublishedDate":"2018-01-23T13:53:00.000Z","metaPrefixText":"","metaSuffixText":"","metaLink":{"url":"#","prefLabel":"Sexual misconduct allegations"},"metaAltLink":{"url":"#","prefLabel":"FT Investigations"},"image":{"url":"http://prod-upp-image-read.ft.com/a25832ea-0053-11e8-9650-9c0ad2d7c5b5","width":2048,"height":1152},"indicators":{"isEditorsChoice":true}}')},1036:function(module,exports,__webpack_require__){(function(module){__webpack_require__(19);var presets=__webpack_require__(66).presets;exports.title="Podcast",exports.data=Object.assign(__webpack_require__(1037),presets.SmallHeavy),exports.knobs=["id","url","type","showMeta","metaPrefixText","metaSuffixText","metaLink","showTitle","title","altTitle","showStandfirst","standfirst","altStandfirst","showStatus","publishedDate","firstPublishedDate","useRelativeTime","status","showImage","image","imageSize","indicators","headlineTesting","layout","modifiers"],exports.m=module}).call(this,__webpack_require__(9)(module))},1037:function(module){module.exports=JSON.parse('{"type":"audio","id":"d1246074-f7d3-4aaf-951c-80a6db495765","url":"https://www.ft.com/content/d1246074-f7d3-4aaf-951c-80a6db495765","title":"Who sets the internet standards?","standfirst":"Hannah Kuchler talks to American social scientist and cyber security expert Andrea…","altStandfirst":"","publishedDate":"2018-10-24T04:00:00.000Z","firstPublishedDate":"2018-10-24T04:00:00.000Z","metaSuffixText":"12 mins","metaLink":{"url":"#","prefLabel":"Tech Tonic podcast"},"metaAltLink":null,"image":{"url":"https://www.ft.com/__origami/service/image/v2/images/raw/http%3A%2F%2Fprod-upp-image-read.ft.com%2F5d1a54aa-f49b-11e8-ae55-df4bf40f9d0d?source=next&fit=scale-down&compression=best&width=240","width":2048,"height":1152},"indicators":{"isPodcast":true}}')},1038:function(module,exports,__webpack_require__){(function(module){__webpack_require__(19);var presets=__webpack_require__(66).presets;exports.title="Opinion Piece",exports.data=Object.assign(__webpack_require__(1039),presets.SmallHeavy,{showHeadshot:!0}),exports.knobs=["id","url","type","showMeta","metaPrefixText","metaSuffixText","metaLink","showTitle","title","showStandfirst","standfirst","showStatus","publishedDate","firstPublishedDate","useRelativeTime","status","showHeadshot","headshot","showImage","image","imageSize","layout","modifiers","indicators"],exports.m=module}).call(this,__webpack_require__(9)(module))},1039:function(module){module.exports=JSON.parse('{"type":"article","id":"","url":"#","title":"Anti-Semitism and the threat of identity politics","altTitle":"","standfirst":"Today, hatred of Jews is mixed in with fights about Islam and Israel","altStandfirst":"Anti-Semitism and identity politics","publishedDate":"2018-04-02T12:22:01.000Z","firstPublishedDate":"2018-04-02T12:22:01.000Z","metaPrefixText":"","metaSuffixText":"","metaLink":{"url":"#","prefLabel":"Gideon Rachman"},"metaAltLink":{"url":"#","prefLabel":"Anti-Semitism"},"image":{"url":"http://prod-upp-image-read.ft.com/1005ca96-364b-11e8-8b98-2f31af407cc8","width":2048,"height":1152},"headshot":"fthead-v1:gideon-rachman","indicators":{"isOpinion":true,"isColumn":true}}')},1040:function(module,exports,__webpack_require__){(function(module){__webpack_require__(19);var presets=__webpack_require__(66).presets;exports.title="Content Package",exports.data=Object.assign(__webpack_require__(1041),presets.Hero,{modifiers:"centre"}),exports.knobs=["id","url","type","showMeta","metaLink","showTitle","title","showStandfirst","standfirst","showStatus","publishedDate","firstPublishedDate","useRelativeTime","showImage","image","imageSize","layout","theme","modifiers"],exports.m=module}).call(this,__webpack_require__(9)(module))},1041:function(module){module.exports=JSON.parse('{"type":"package","id":"","url":"#","title":"The royal wedding","altTitle":"","standfirst":"Prince Harry and Meghan Markle will tie the knot at Windsor Castle","altStandfirst":"","publishedDate":"2018-05-14T16:38:49.000Z","firstPublishedDate":"2018-05-14T16:38:49.000Z","metaPrefixText":"","metaSuffixText":"","metaLink":{"url":"#","prefLabel":"FT Magazine"},"metaAltLink":{"url":"#","prefLabel":"FT Series"},"image":{"url":"http://prod-upp-image-read.ft.com/7e97f5b6-578d-11e8-b8b2-d6ceb45fa9d0","width":2048,"height":1152}}')},1042:function(module,exports,__webpack_require__){(function(module){__webpack_require__(19);var presets=__webpack_require__(66).presets;exports.title="Package item",exports.data=Object.assign(__webpack_require__(1043),presets.Hero,{parentTheme:"extra-article",modifiers:"centre"}),exports.knobs=["id","url","type","showMeta","metaPrefixText","metaSuffixText","metaLink","showTitle","title","showStandfirst","standfirst","showStatus","publishedDate","firstPublishedDate","useRelativeTime","showImage","image","imageSize","indicators","layout","theme","parentTheme","modifiers"],exports.m=module}).call(this,__webpack_require__(9)(module))},1043:function(module){module.exports=JSON.parse('{"type":"article","id":"","url":"#","title":"Why so little has changed since the crash","standfirst":"Martin Wolf on the power of vested interests in today’s rent-extracting economy","publishedDate":"2018-09-02T15:07:00.000Z","firstPublishedDate":"2018-09-02T13:53:00.000Z","metaPrefixText":"FT Series","metaSuffixText":"","metaLink":{"url":"#","prefLabel":"Financial crisis: Are we safer now? "},"image":{"url":"http://prod-upp-image-read.ft.com/a25832ea-0053-11e8-9650-9c0ad2d7c5b5","width":2048,"height":1152},"indicators":{"isOpinion":true}}')},1044:function(module,exports,__webpack_require__){(function(module){__webpack_require__(19);var presets=__webpack_require__(66).presets;exports.title="Paid Post",exports.data=Object.assign(__webpack_require__(1045),presets.SmallHeavy),exports.knobs=["id","url","type","showMeta","promotedPrefixText","promotedSuffixText","showTitle","title","showStandfirst","standfirst","showImage","image","imageSize","layout","modifiers"],exports.m=module}).call(this,__webpack_require__(9)(module))},1045:function(module){module.exports=JSON.parse('{"type":"paid-post","id":"","url":"#","title":"Why eSports companies are on a winning streak","standfirst":"ESports is big business and about to get bigger: global revenues could hit $1.5bn by 2020","promotedPrefixText":"Paid post","promotedSuffixText":"by UBS","image":{"url":"https://tpc.googlesyndication.com/pagead/imgad?id=CICAgKCrm_3yahABGAEyCMx3RoLss603","width":700,"height":394}}')},1046:function(module,exports,__webpack_require__){(function(module){__webpack_require__(19);var presets=__webpack_require__(66).presets;exports.title="Top Story",exports.data=Object.assign(__webpack_require__(1047),presets.TopStoryLandscape),exports.knobs=["id","url","type","showMeta","metaPrefixText","metaSuffixText","metaLink","showTitle","title","showStandfirst","standfirst","showStatus","publishedDate","firstPublishedDate","useRelativeTime","showImage","image","imageSize","showRelatedLinks","relatedLinks","layout","modifiers"],exports.m=module}).call(this,__webpack_require__(9)(module))},1047:function(module){module.exports=JSON.parse('{"type":"article","id":"","url":"#","title":"Inside charity fundraiser where hostesses are put on show","altTitle":"Men Only, the charity fundraiser with hostesses on show","standfirst":"FT investigation finds groping and sexual harassment at secretive black-tie dinner","altStandfirst":"Groping and sexual harassment at black-tie dinner charity event","publishedDate":"2018-01-23T15:07:00.000Z","firstPublishedDate":"2018-01-23T13:53:00.000Z","metaPrefixText":"","metaSuffixText":"","metaLink":{"url":"#","prefLabel":"Sexual misconduct allegations"},"metaAltLink":{"url":"#","prefLabel":"FT Investigations"},"image":{"url":"http://prod-upp-image-read.ft.com/a25832ea-0053-11e8-9650-9c0ad2d7c5b5","width":2048,"height":1152},"relatedLinks":[{"id":"","url":"#","type":"article","title":"Removing the fig leaf of charity"},{"id":"","url":"#","type":"article","title":"A dinner that demeaned both women and men"},{"id":"","url":"#","type":"video","title":"PM speaks out after Presidents Club dinner"}]}')},1048:function(module,exports,__webpack_require__){(function(module){__webpack_require__(19);var presets=__webpack_require__(66).presets;exports.title="Video",exports.data=Object.assign(__webpack_require__(1049),presets.HeroVideo),exports.knobs=["id","url","type","showMeta","metaPrefixText","metaSuffixText","metaLink","showTitle","title","showStatus","publishedDate","firstPublishedDate","useRelativeTime","showImage","image","imageSize","showVideo","video","layout","modifiers"],exports.m=module}).call(this,__webpack_require__(9)(module))},1049:function(module){module.exports=JSON.parse('{"type":"video","id":"0e89d872-5711-457b-80b1-4ca0d8afea46","url":"#","title":"FT View: Donald Trump, man of steel","standfirst":"The FT\'s Rob Armstrong looks at why Donald Trump is pushing trade tariffs","publishedDate":"2018-03-26T08:12:28.137Z","firstPublishedDate":"2018-03-26T08:12:28.137Z","metaPrefixText":"","metaSuffixText":"02:51min","metaLink":{"url":"#","prefLabel":"Global Trade"},"metaAltLink":{"url":"#","prefLabel":"US"},"image":{"url":"http://com.ft.imagepublish.upp-prod-eu.s3.amazonaws.com/a27ce49b-85b8-445b-b883-db6e2f533194","width":1920,"height":1080},"video":{"url":"https://next-media-api.ft.com/renditions/15218247321960/640x360.mp4","width":640,"height":360,"mediaType":"video/mp4","codec":"h264"}}')},1050:function(module,exports,__webpack_require__){__webpack_require__(69),__webpack_require__(19),module.exports=function(data,_ref){var object=_ref.object,text=_ref.text,number=_ref.number,_boolean=_ref.boolean,date=_ref.date,select=_ref.select,Groups_Meta="Meta",Groups_Title="Title",Groups_Standfirst="Standfirst",Groups_Status="Status",Groups_Image="Image",Groups_Headshot="Headshot",Groups_Video="Video",Groups_RelatedLinks="Related Links",Groups_Indicators="Indicators",Groups_Context="Context",Groups_Variant="Variant";return Object.assign({},{showMeta:function showMeta(){return _boolean("Show meta",data.showMeta,Groups_Meta)},showTitle:function showTitle(){return _boolean("Show title",data.showTitle,Groups_Title)},showStandfirst:function showStandfirst(){return _boolean("Show standfirst",data.showStandfirst,Groups_Standfirst)},showStatus:function showStatus(){return _boolean("Show status",data.showStatus,Groups_Status)},showImage:function showImage(){return _boolean("Show image",data.showImage,Groups_Image)},showHeadshot:function showHeadshot(){return _boolean("Show headshot",data.showHeadshot,Groups_Headshot)},showVideo:function showVideo(){return _boolean("Show video",data.showVideo,Groups_Video)},showRelatedLinks:function showRelatedLinks(){return _boolean("Show related links",data.showRelatedLinks,Groups_RelatedLinks)}},{metaPrefixText:function metaPrefixText(){return text("Meta prefix text",data.metaPrefixText,Groups_Meta)},metaSuffixText:function metaSuffixText(){return text("Meta suffix text",data.metaSuffixText,Groups_Meta)},metaLink:function metaLink(){return{url:data.metaLink.url,prefLabel:text("Meta link",data.metaLink.prefLabel,Groups_Meta)}},metaAltLink:function metaAltLink(){return{url:data.metaAltLink.url,prefLabel:text("Alt meta link",data.metaAltLink.prefLabel,Groups_Meta)}},promotedPrefixText:function promotedPrefixText(){return text("Promoted prefix text",data.promotedPrefixText,Groups_Meta)},promotedSuffixText:function promotedSuffixText(){return text("Promoted suffix text",data.promotedSuffixText,Groups_Meta)}},{title:function title(){return text("Title",data.title,Groups_Title)},altTitle:function altTitle(){return text("Alt title",data.altTitle,Groups_Title)}},{standfirst:function standfirst(){return text("Standfirst",data.standfirst,Groups_Standfirst)},altStandfirst:function altStandfirst(){return text("Alt standfirst",data.altStandfirst,Groups_Standfirst)}},{publishedDate:function publishedDate(){return date("Published date",new Date(data.publishedDate),Groups_Status)},firstPublishedDate:function firstPublishedDate(){return date("First published date",new Date(data.firstPublishedDate),Groups_Status)},useRelativeTime:function useRelativeTime(){return _boolean("Use relative time",data.useRelativeTime,Groups_Status)},status:function status(){return select("Live blog status",{None:"","Coming soon":"comingsoon","In progress":"inprogress",Closed:"closed"},"",Groups_Status)}},{video:function video(){return{url:text("Video URL",data.video.url,Groups_Video),width:number("Video width",data.video.width,{},Groups_Video),height:number("Video height",data.video.height,{},Groups_Video),mediaType:data.video.mediaType,codec:data.video.codec}}},{headshot:function headshot(){return text("Headshot",data.headshot,Groups_Headshot)},headshotTint:function headshotTint(){return select("Headshot tint",{Default:""},"Default",Groups_Headshot)}},{image:function image(){return{url:text("Image URL",data.image.url,Groups_Image),width:number("Image width",data.image.width,{},Groups_Image),height:number("Image height",data.image.height,{},Groups_Image)}},imageSize:function imageSize(){return select("Image size",["XS","Small","Medium","Large","XL","XXL"],data.imageSize,Groups_Image)}},{relatedLinks:function relatedLinks(){return object("Related links",data.relatedLinks,Groups_RelatedLinks)}},{indicators:function indicators(){return{accessLevel:select("Access level",["free","registered","subscribed","premium"],data.indicators.accessLevel||"free",Groups_Indicators),isOpinion:_boolean("Is opinion",data.indicators.isOpinion,Groups_Indicators),isColumn:_boolean("Is column",data.indicators.isColumn,Groups_Indicators),isPodcast:_boolean("Is podcast",data.indicators.isPodcast,Groups_Indicators),isEditorsChoice:_boolean("Is editor's choice",data.indicators.isEditorsChoice,Groups_Indicators),isExclusive:_boolean("Is exclusive",data.indicators.isExclusive,Groups_Indicators),isScoop:_boolean("Is scoop",data.indicators.isScoop,Groups_Indicators)}}},{headlineTesting:function headlineTesting(){return _boolean("Headline testing",!1,Groups_Context)},parentId:function parentId(){return text("Parent ID",data.context.parentId,Groups_Context)},parentLabel:function parentLabel(){return text("Parent Label",data.context.parentLabel,Groups_Context)}},{layout:function layout(){return select("Layout",["small","large","hero","top-story"],data.layout,Groups_Variant)},theme:function theme(){return select("Theme",{None:"",Extra:"extra-article","Special Report":"highlight"},data.theme,Groups_Variant)},parentTheme:function parentTheme(){return select("Parent theme",{None:"",Extra:"extra-article","Special Report":"highlight"},data.parentTheme,Groups_Variant)},modifiers:function modifiers(){return select("Modifiers",{None:"","Small stacked":"stacked","Small image on right":"image-on-right","Large portrait":"large-portrait","Large landscape":"large-landscape","Hero centre":"centre","Hero image":"hero-image","Top story landscape":"landscape","Top story big":"big-story"},data.modifiers||"",Groups_Variant)}})}},1051:function(module,exports,__webpack_require__){var Button=__webpack_require__(1052).Button;exports.component=Button,exports.package=__webpack_require__(1054),exports.stories=[__webpack_require__(1055)],exports.knobs=function(data,_ref){var _boolean=_ref.boolean;return{danger:function danger(){return _boolean("Danger",data.danger)},large:function large(){return _boolean("Large",data.large)}}}},1052:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var xEngine=__webpack_require__(67),classNames=function _interopDefault(ex){return ex&&"object"==typeof ex&&"default"in ex?ex.default:ex}(__webpack_require__(1053));function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var buttonStyles_button="Button_button__vS7Mv",buttonStyles_large="Button_large__1R9sG",buttonStyles_danger="Button_danger__2t8xa";exports.Button=function Button(_ref){var _classNames,large=_ref.large,danger=_ref.danger;return xEngine.h("button",{className:classNames(buttonStyles_button,(_classNames={},_defineProperty(_classNames,buttonStyles_large,large),_defineProperty(_classNames,buttonStyles_danger,danger),_classNames))},"Click me!")}},1054:function(module){module.exports=JSON.parse('{"name":"@financial-times/x-styling-demo","version":"0.0.0","description":"","source":"src/Button.jsx","main":"dist/Button.cjs.js","browser":"dist/Button.es5.js","module":"dist/Button.esm.js","style":"dist/Button.css","private":true,"scripts":{"build":"node rollup.js","start":"node rollup.js --watch"},"keywords":[],"author":"","license":"ISC","devDependencies":{"@financial-times/x-rollup":"file:../../packages/x-rollup"},"dependencies":{"@financial-times/x-engine":"file:../../packages/x-engine","classnames":"^2.2.6"},"engines":{"node":">= 6.0.0"}}')},1055:function(module,exports,__webpack_require__){(function(module){exports.title="Styling",exports.data={danger:!1,large:!1},exports.knobs=["danger","large"],exports.m=module}).call(this,__webpack_require__(9)(module))},1056:function(module,exports,__webpack_require__){var GiftArticle=__webpack_require__(1057).GiftArticle;exports.component=GiftArticle,exports.package=__webpack_require__(1059),exports.dependencies={"o-fonts":"^3.0.0","o-buttons":"^5.13.1","o-forms":"^5.7.3","o-loading":"^2.2.2","o-share":"^6.2.0","o-message":"^2.3.3"},exports.stories=[__webpack_require__(1060),__webpack_require__(1061),__webpack_require__(1062),__webpack_require__(1063),__webpack_require__(1064)]},1057:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var xEngine=__webpack_require__(67),xInteraction=__webpack_require__(296),styles={container:"GiftArticle_container__nGwU_",form:"GiftArticle_form__lC3qs",bold:"GiftArticle_bold__Ys2Sp","radio-button-section":"GiftArticle_radio-button-section__h1-xz","url-section":"GiftArticle_url-section__Bsa7N",title:"GiftArticle_title__3wb0x",url:"GiftArticle_url__17SKH",message:"GiftArticle_message__2zqH2",buttons:"GiftArticle_buttons__SB7ql","button--with-gap":"GiftArticle_button--with-gap__34_K0","copy-confirmation":"GiftArticle_copy-confirmation__1SlJ-","loading-spinner__container":"GiftArticle_loading-spinner__container__1uxD7"},Loading=function(){return xEngine.h("div",{className:styles["loading-spinner__container"]},xEngine.h("div",{className:"o-loading o-loading--dark o-loading--large"}))},titleClassNames=[styles.title,styles.bold].join(" "),Title=function(_ref){var title=_ref.title;return xEngine.h("div",{className:titleClassNames},title)},ShareType_gift="gift",ShareType_nonGift="nonGift",UrlType_dummy="example-gift-link",UrlType_gift="gift-link",UrlType_nonGift="non-gift-link",boldTextClassName=styles.bold,radioSectionClassNames=["o-forms__group","o-forms__group--inline",styles["radio-button-section"]].join(" "),RadioButtonsSection=function(_ref){var shareType=_ref.shareType,showGiftUrlSection=_ref.showGiftUrlSection,showNonGiftUrlSection=_ref.showNonGiftUrlSection;return xEngine.h("div",{className:radioSectionClassNames},xEngine.h("input",{type:"radio",name:"gift-form__radio",value:"giftLink",className:"o-forms__radio",id:"giftLink",checked:shareType===ShareType_gift,onChange:showGiftUrlSection}),xEngine.h("label",{htmlFor:"giftLink",className:"o-forms__label"},"with ",xEngine.h("span",{className:boldTextClassName},"anyone")," (uses 1 gift credit)"),xEngine.h("input",{type:"radio",name:"gift-form__radio",value:"nonGiftLink",className:"o-forms__radio",id:"nonGiftLink",checked:shareType===ShareType_nonGift,onChange:showNonGiftUrlSection}),xEngine.h("label",{htmlFor:"nonGiftLink",className:"o-forms__label"},"with ",xEngine.h("span",{className:boldTextClassName},"other FT subscribers")))},urlClassNames=["o-forms__text",styles.url].join(" "),Url=function(_ref){var shareType=_ref.shareType,isGiftUrlCreated=_ref.isGiftUrlCreated,url=_ref.url,urlType=_ref.urlType;return xEngine.h("input",{type:"text",name:urlType,value:url,className:urlClassNames,disabled:shareType===ShareType_gift&&!isGiftUrlCreated,readOnly:!0})},messageClassName=styles.message,boldTextClassName$1=styles.bold,Message=function(_ref){var shareType=_ref.shareType,isGiftUrlCreated=_ref.isGiftUrlCreated,isFreeArticle=_ref.isFreeArticle,giftCredits=_ref.giftCredits,monthlyAllowance=_ref.monthlyAllowance,nextRenewalDateText=_ref.nextRenewalDateText,redemptionLimit=_ref.redemptionLimit,invalidResponseFromApi=_ref.invalidResponseFromApi;return isFreeArticle?xEngine.h("div",{className:messageClassName},"This article is currently ",xEngine.h("span",{className:boldTextClassName$1},"free")," for anyone to read"):shareType===ShareType_gift?0===giftCredits?xEngine.h("div",{className:messageClassName},"You’ve used all your ",xEngine.h("span",{className:boldTextClassName$1},"gift article credits"),xEngine.h("br",null),"You’ll get your next ",monthlyAllowance," on ",xEngine.h("span",{className:boldTextClassName$1},nextRenewalDateText)):isGiftUrlCreated?xEngine.h("div",{className:messageClassName},"This link can be opened up to ",redemptionLimit," times"):invalidResponseFromApi?xEngine.h("div",{className:messageClassName},"Unable to fetch gift credits. Please try again later"):xEngine.h("div",{className:messageClassName},"You have ",xEngine.h("span",{className:boldTextClassName$1},giftCredits," gift article ",1===giftCredits?"credit":"credits")," left this month"):shareType===ShareType_nonGift?xEngine.h("div",{className:messageClassName},"This link can only be read by existing subscribers"):void 0},ButtonsClassName=styles.buttons,ButtonClassNames=["o-buttons","o-buttons--primary","o-buttons--big"].join(" "),ButtonWithGapClassNames=[ButtonClassNames,"js-copy-link",styles["button--with-gap"]].join(" "),Buttons=function(_ref){var shareType=_ref.shareType,isGiftUrlCreated=_ref.isGiftUrlCreated,mailtoUrl=_ref.mailtoUrl,showCopyButton=_ref.showCopyButton,nativeShare=_ref.nativeShare,actions=_ref.actions,giftCredits=_ref.giftCredits;return isGiftUrlCreated||shareType===ShareType_nonGift?nativeShare?xEngine.h("div",{className:ButtonsClassName},xEngine.h("button",{className:ButtonWithGapClassNames,type:"button",onClick:actions.shareByNativeShare},"Share link")):xEngine.h("div",{className:ButtonsClassName},showCopyButton&&xEngine.h("button",{className:ButtonWithGapClassNames,type:"button",onClick:shareType===ShareType_gift?actions.copyGiftUrl:actions.copyNonGiftUrl},"Copy link"),xEngine.h("a",{className:ButtonClassNames,href:mailtoUrl,target:"_blank",rel:"noopener noreferrer",onClick:shareType===ShareType_gift?actions.emailGiftUrl:actions.emailNonGiftUrl},"Email link")):xEngine.h("div",{className:ButtonsClassName},xEngine.h("button",{className:ButtonClassNames,disabled:!giftCredits,type:"button",onClick:actions.createGiftUrl},"Create gift link"))},urlSectionClassNames=["js-gift-article__url-section",styles["url-section"]].join(" "),UrlSection=function(_ref){var shareType=_ref.shareType,isGiftUrlCreated=_ref.isGiftUrlCreated,isFreeArticle=_ref.isFreeArticle,url=_ref.url,urlType=_ref.urlType,giftCredits=_ref.giftCredits,monthlyAllowance=_ref.monthlyAllowance,nextRenewalDateText=_ref.nextRenewalDateText,mailtoUrl=_ref.mailtoUrl,redemptionLimit=_ref.redemptionLimit,showCopyButton=_ref.showCopyButton,nativeShare=_ref.nativeShare,invalidResponseFromApi=_ref.invalidResponseFromApi,actions=_ref.actions,showUrlShareElements=!(0===giftCredits&&shareType===ShareType_gift);return xEngine.h("div",{className:urlSectionClassNames,"data-section-id":shareType+"Link","data-trackable":shareType+"Link"},showUrlShareElements&&xEngine.h(Url,{shareType:shareType,isGiftUrlCreated:isGiftUrlCreated,url:url,urlType:urlType}),xEngine.h(Message,{shareType:shareType,isGiftUrlCreated:isGiftUrlCreated,isFreeArticle:isFreeArticle,giftCredits:giftCredits,monthlyAllowance:monthlyAllowance,nextRenewalDateText:nextRenewalDateText,redemptionLimit:redemptionLimit,invalidResponseFromApi:invalidResponseFromApi}),showUrlShareElements&&xEngine.h(Buttons,{shareType:shareType,isGiftUrlCreated:isGiftUrlCreated,mailtoUrl:mailtoUrl,showCopyButton:showCopyButton,nativeShare:nativeShare,actions:actions,giftCredits:giftCredits}))},styles$1={container:"MobileShareButtons_container__3eAtc",button:"MobileShareButtons_button__17W-1",facebook:"MobileShareButtons_facebook__1ji2o",twitter:"MobileShareButtons_twitter__1QRsw",linkedin:"MobileShareButtons_linkedin__1-2-Y",whatsapp:"MobileShareButtons_whatsapp__16VoZ"},containerClassNames=["o-share","o-share--inverse",styles$1.container].join(" "),buttonClassNames=["o-share__action",styles$1.button].join(" "),whatsappButtonClassNames=[buttonClassNames,"o-share__action--whatsapp"].join(" "),facebookClassNames=["o-share__icon","o-share__icon--facebook",styles$1.facebook].join(" "),twitterClassNames=["o-share__icon","o-share__icon--twitter",styles$1.twitter].join(" "),linkedinClassNames=["o-share__icon","o-share__icon--linkedin",styles$1.linkedin].join(" "),whatsappClassNames=["o-share__icon","o-share__icon--whatsapp",styles$1.whatsapp].join(" "),MobileShareButtons=function(_ref){var mobileShareLinks=_ref.mobileShareLinks;return xEngine.h("div",{className:containerClassNames,"data-o-component":"o-share"},xEngine.h(Title,{title:"Share on Social"}),xEngine.h("ul",null,xEngine.h("li",{className:buttonClassNames,"data-share":"facebook"},xEngine.h("a",{className:facebookClassNames,rel:"noopener",href:mobileShareLinks.facebook,"data-trackable":"facebook"},"Facebook ",xEngine.h("span",{className:"o-share__text"},"(opens new window)"))),xEngine.h("li",{className:buttonClassNames,"data-share":"twitter"},xEngine.h("a",{className:twitterClassNames,rel:"noopener",href:mobileShareLinks.twitter,"data-trackable":"twitter"},"Twitter ",xEngine.h("span",{className:"o-share__text"},"(opens new window)"))),xEngine.h("li",{className:buttonClassNames,"data-share":"linkedin"},xEngine.h("a",{className:linkedinClassNames,rel:"noopener",href:mobileShareLinks.linkedin,"data-trackable":"linkedin"},"LinkedIn ",xEngine.h("span",{className:"o-share__text"},"(opens new window)"))),xEngine.h("li",{className:whatsappButtonClassNames,"data-share":"whatsapp"},xEngine.h("a",{className:whatsappClassNames,rel:"noopener",href:mobileShareLinks.whatsapp,"data-trackable":"whatsapp"},"Whatsapp ",xEngine.h("span",{className:"o-share__text"},"(opens new window)")))))},confirmationClassNames=["o-message","o-message--alert-bleed","o-message--success",styles["copy-confirmation"]].join(" "),CopyConfirmation=function(_ref){var hideCopyConfirmation=_ref.hideCopyConfirmation;return xEngine.h("div",{className:confirmationClassNames},xEngine.h("div",{className:"o-message__container"},xEngine.h("div",{className:"o-message__content"},xEngine.h("p",{className:"o-message__content-main"},xEngine.h("span",{className:"o-message__content-highlight"},"The link has been copied to your clipboard"))),xEngine.h("button",{className:"o-message__close","aria-label":"close",title:"Close",onClick:hideCopyConfirmation})))},formClassNames=["o-forms",styles.form].join(" "),Form=function(props){return xEngine.h("div",{className:styles.container},xEngine.h("form",{name:"gift-form"},xEngine.h("fieldset",{className:formClassNames},xEngine.h(Title,{title:props.title}),!props.isFreeArticle&&xEngine.h(RadioButtonsSection,{shareType:props.shareType,showGiftUrlSection:props.actions.showGiftUrlSection,showNonGiftUrlSection:props.actions.showNonGiftUrlSection}),xEngine.h(UrlSection,props))),props.showCopyConfirmation&&xEngine.h(CopyConfirmation,{hideCopyConfirmation:props.actions.hideCopyConfirmation}),props.showMobileShareLinks&&xEngine.h(MobileShareButtons,{mobileShareLinks:props.mobileShareLinks}))};function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}var ApiClient=function(){function ApiClient(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},protocol=_ref.protocol,domain=_ref.domain;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ApiClient),this.protocol=protocol,this.domain=domain}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ApiClient,[{key:"getFetchUrl",value:function getFetchUrl(path){var base="";return this.domain&&(base="//".concat(this.domain),this.protocol&&(base="".concat(this.protocol,":").concat(base))),"".concat(base).concat(path)}},{key:"fetchJson",value:function fetchJson(path,additionalOptions){var url=this.getFetchUrl(path),options=Object.assign({credentials:"include"},additionalOptions);return fetch(url,options).then(function(response){return response.json()})}},{key:"getGiftArticleAllowance",value:function getGiftArticleAllowance(){return new Promise(function($return,$error){var json,$Try_1_Catch=function(e){try{return $return({monthlyAllowance:void 0,giftCredits:void 0,nextRenewalDate:void 0})}catch($boundEx){return $error($boundEx)}};try{return Promise.resolve(this.fetchJson("/article/gift-credits")).then(function($await_4){try{return $return({monthlyAllowance:(json=$await_4).allowance,giftCredits:json.remainingCredits,nextRenewalDate:json.renewalDate})}catch($boundEx){return $Try_1_Catch()}},$Try_1_Catch)}catch(e){$Try_1_Catch()}}.bind(this))}},{key:"getGiftUrl",value:function getGiftUrl(articleId){return new Promise(function($return,$error){var json,$Try_2_Catch=function(e){try{return $return({redemptionUrl:void 0,redemptionLimit:void 0})}catch($boundEx){return $error($boundEx)}};try{return Promise.resolve(this.fetchJson("/article/gift-link/"+encodeURIComponent(articleId))).then(function($await_5){try{if((json=$await_5).errors)throw new Error("Failed to get gift article link: ".concat(json.errors.join(", ")));return $return(function _objectSpread2(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}({},json))}catch($boundEx){return $Try_2_Catch()}},$Try_2_Catch)}catch(e){$Try_2_Catch()}}.bind(this))}},{key:"getShorterUrl",value:function getShorterUrl(originalUrl){return new Promise(function($return,$error){var url,isShortened,json;url=originalUrl,isShortened=!1;var $Try_3_Post=function(){try{return $return({url:url,isShortened:isShortened})}catch($boundEx){return $error($boundEx)}},$Try_3_Catch=function(e){try{return $Try_3_Post()}catch($boundEx){return $error($boundEx)}};try{return Promise.resolve(this.fetchJson("/article/shorten-url/"+encodeURIComponent(originalUrl))).then(function($await_6){try{return(json=$await_6).shortenedUrl&&(isShortened=!0,url=json.shortenedUrl),$Try_3_Post()}catch($boundEx){return $Try_3_Catch()}},$Try_3_Catch)}catch(e){$Try_3_Catch()}}.bind(this))}}]),ApiClient}();var shareLinkActions_1=function createMailtoUrl(articleTitle,shareUrl){var subject=encodeURIComponent(articleTitle),body=encodeURIComponent(shareUrl);return"mailto:?subject=".concat(subject,"&body=").concat(body)},shareLinkActions_2=function copyToClipboard(event){var inputEl=event.target.closest(".js-gift-article__url-section").querySelector("input"),oldContentEditable=inputEl.contentEditable,oldReadOnly=inputEl.readOnly,range=document.createRange();inputEl.contenteditable=!0,inputEl.readonly=!1,inputEl.focus(),range.selectNodeContents(inputEl);var selection=window.getSelection();try{selection.removeAllRanges(),selection.addRange(range),inputEl.setSelectionRange(0,999999)}catch(err){inputEl.select()}inputEl.contentEditable=oldContentEditable,inputEl.readOnly=oldReadOnly,document.execCommand("copy"),inputEl.blur()};function dispatchEvent(detail){var event=new CustomEvent("oTracking.event",{detail:detail,bubbles:!0});document.body.dispatchEvent(event)}var tracking_createGiftLink=function createGiftLink(link,longUrl){return dispatchEvent({category:"gift-link",action:"create",linkType:"giftLink",link:link,longUrl:longUrl})},tracking_copyLink=function copyLink(linkType,link){return dispatchEvent({category:"gift-link",action:"copy",linkType:linkType,link:link})},tracking_emailLink=function emailLink(linkType,link){return dispatchEvent({category:"gift-link",action:"mailto",linkType:linkType,link:link})},monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],showGiftUrlSection=function showGiftUrlSection(props){return{shareType:ShareType_gift,url:props.urls.gift||props.urls.dummy,urlType:props.urls.gift?UrlType_gift:UrlType_dummy,mailtoUrl:props.mailtoUrls.gift,showCopyConfirmation:!1}},showNonGiftUrlSection=function showNonGiftUrlSection(props){return{shareType:ShareType_nonGift,url:props.urls.nonGift,urlType:UrlType_nonGift,mailtoUrl:props.mailtoUrls.nonGift,showCopyConfirmation:!1}},setShortenedNonGiftUrl=function setShortenedNonGiftUrl(shortenedUrl){return function(props){var mailtoUrl=shareLinkActions_1(props.article.title,shortenedUrl);return{url:shortenedUrl,mailtoUrl:mailtoUrl,isNonGiftUrlShortened:!0,urls:Object.assign(props.urls,{gift:shortenedUrl}),mailtoUrls:Object.assign(props.mailtoUrls,{gift:mailtoUrl})}}},isCopySupported="undefined"!=typeof document&&document.queryCommandSupported&&document.queryCommandSupported("copy"),GiftArticle=xInteraction.withActions(function(initialProps){var api=new ApiClient({protocol:initialProps.apiProtocol,domain:initialProps.apiDomain});return{showGiftUrlSection:function showGiftUrlSection$$1(){return showGiftUrlSection},showNonGiftUrlSection:function showNonGiftUrlSection$$1(){return function(state){return new Promise(function($return,$error){var update,_ref,url;if(update=showNonGiftUrlSection(state),!state.isNonGiftUrlShortened)return Promise.resolve(api.getShorterUrl(state.urls.nonGift)).then(function($await_4){try{return url=(_ref=$await_4).url,_ref.isShortened&&Object.assign(update,setShortenedNonGiftUrl(url)(state)),$If_1.call(this)}catch($boundEx){return $error($boundEx)}}.bind(this),$error);function $If_1(){return $return(update)}return $If_1.call(this)})}},createGiftUrl:function createGiftUrl(){return new Promise(function($return,$error){var _ref2,redemptionUrl,redemptionLimit,_ref3,url,isShortened;return Promise.resolve(api.getGiftUrl(initialProps.article.id)).then(function($await_5){try{return redemptionUrl=(_ref2=$await_5).redemptionUrl,redemptionLimit=_ref2.redemptionLimit,redemptionUrl?Promise.resolve(api.getShorterUrl(redemptionUrl)).then(function($await_6){try{return url=(_ref3=$await_6).url,isShortened=_ref3.isShortened,tracking_createGiftLink(url,redemptionUrl),$return(function setGiftUrl(url,redemptionLimit,isShortened){return function(props){var mailtoUrl=shareLinkActions_1(props.article.title,url);return{url:url,mailtoUrl:mailtoUrl,redemptionLimit:redemptionLimit,isGiftUrlCreated:!0,isGiftUrlShortened:isShortened,urlType:UrlType_gift,urls:Object.assign(props.urls,{gift:url}),mailtoUrls:Object.assign(props.mailtoUrls,{gift:mailtoUrl})}}}(url,redemptionLimit,isShortened))}catch($boundEx){return $error($boundEx)}},$error):$If_2.call(this);function $If_2(){return $return()}}catch($boundEx){return $error($boundEx)}}.bind(this),$error)})},copyGiftUrl:function copyGiftUrl(event){return shareLinkActions_2(event),function(state){var giftUrl=state.urls.gift;return tracking_copyLink("giftLink",giftUrl),{showCopyConfirmation:!0}}},copyNonGiftUrl:function copyNonGiftUrl(event){return shareLinkActions_2(event),function(state){var nonGiftUrl=state.urls.nonGift;return tracking_copyLink("nonGiftLink",nonGiftUrl),{showCopyConfirmation:!0}}},emailGiftUrl:function emailGiftUrl(){return function(state){tracking_emailLink("giftLink",state.urls.gift)}},emailNonGiftUrl:function emailNonGiftUrl(){return function(state){tracking_emailLink("nonGiftLink",state.urls.nonGift)}},hideCopyConfirmation:function hideCopyConfirmation(){return{showCopyConfirmation:!1}},shareByNativeShare:function shareByNativeShare(){throw new Error("shareByNativeShare should be implemented by x-gift-article's consumers")},activate:function activate(){return function(state){return new Promise(function($return,$error){var _ref4,url,_ref5,giftCredits,monthlyAllowance,nextRenewalDate;return initialProps.isFreeArticle?Promise.resolve(api.getShorterUrl(state.urls.nonGift)).then(function($await_7){try{return url=(_ref4=$await_7).url,_ref4.isShortened?$return(setShortenedNonGiftUrl(url)(state)):$If_3.call(this)}catch($boundEx){return $error($boundEx)}}.bind(this),$error):Promise.resolve(api.getGiftArticleAllowance()).then(function($await_8){try{return giftCredits=(_ref5=$await_8).giftCredits,monthlyAllowance=_ref5.monthlyAllowance,nextRenewalDate=_ref5.nextRenewalDate,$return(giftCredits>0||0===giftCredits?function setAllowance(giftCredits,monthlyAllowance,nextRenewalDate){var date=new Date(nextRenewalDate);return{giftCredits:giftCredits,monthlyAllowance:monthlyAllowance,nextRenewalDateText:"".concat(monthNames[date.getMonth()]," ").concat(date.getDate()),invalidResponseFromApi:!1}}(giftCredits,monthlyAllowance,nextRenewalDate):{invalidResponseFromApi:!0})}catch($boundEx){return $error($boundEx)}}.bind(this),$error);function $If_3(){return $return()}})}}}},function(props){var initialState={title:"Share this article",giftCredits:void 0,monthlyAllowance:void 0,showCopyButton:isCopySupported,isGiftUrlCreated:!1,isGiftUrlShortened:!1,isNonGiftUrlShortened:!1,urls:{dummy:"https://on.ft.com/gift_link",gift:void 0,nonGift:"".concat(props.article.url,"?shareType=nongift")},mailtoUrls:{gift:void 0,nonGift:shareLinkActions_1(props.article.title,"".concat(props.article.url,"?shareType=nongift"))},mobileShareLinks:props.showMobileShareLinks?{facebook:"http://www.facebook.com/sharer.php?u=".concat(encodeURIComponent(props.article.url),"&t=").concat(encodeURIComponent(props.article.title)),twitter:"https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(props.article.url),"&text=").concat(encodeURIComponent(props.article.title),"&via=financialtimes"),linkedin:"http://www.linkedin.com/shareArticle?mini=true&url=".concat(encodeURIComponent(props.article.url),"&title=").concat(encodeURIComponent(props.article.title),"&source=Financial+Times"),whatsapp:"whatsapp://send?text=".concat(encodeURIComponent(props.article.title),"%20-%20").concat(encodeURIComponent(props.article.url))}:void 0},expandedProps=Object.assign({},props,initialState),sectionProps=props.isFreeArticle?showNonGiftUrlSection(expandedProps):showGiftUrlSection(expandedProps);return Object.assign(initialState,sectionProps)})(function BaseGiftArticle(props){return props.isLoading?xEngine.h(Loading,null):xEngine.h(Form,props)});exports.GiftArticle=GiftArticle},1059:function(module){module.exports=JSON.parse('{"name":"@financial-times/x-gift-article","version":"0.0.0","description":"This module provides gift article form","main":"dist/GiftArticle.cjs.js","browser":"dist/GiftArticle.es5.js","module":"dist/GiftArticle.esm.js","style":"dist/GiftArticle.css","scripts":{"prepare":"npm run build","build":"node rollup.js","start":"node rollup.js --watch"},"keywords":["x-dash"],"author":"","license":"ISC","dependencies":{"@financial-times/x-engine":"file:../../packages/x-engine","@financial-times/x-interaction":"file:../x-interaction","classnames":"^2.2.6"},"devDependencies":{"@financial-times/x-rollup":"file:../../packages/x-rollup","node-sass":"^4.9.2"}}')},1060:function(module,exports,__webpack_require__){(function(module){var articleUrl="https://www.ft.com/content/blahblahblah",nonGiftArticleUrl="".concat(articleUrl,"?shareType=nongift");exports.title="With gift credits",exports.data={title:"Share this article (with credit)",isFreeArticle:!1,article:{id:"article id",url:articleUrl,title:"Title Title Title Title"},showMobileShareLinks:!0,id:"base-gift-article-static-id"},exports.m=module,exports.fetchMock=function(fetchMock){fetchMock.get("/article/gift-credits",{credits:{allowance:20,consumedCredits:5,remainingCredits:15,renewalDate:"2018-08-01T00:00:00Z"}}).get("/article/shorten-url/".concat(encodeURIComponent("https://gift-url-redeemed")),{shortenedUrl:"https://shortened-gift-url"}).get("/article/shorten-url/".concat(encodeURIComponent(nonGiftArticleUrl)),{shortenedUrl:"https://shortened-non-gift-url"}).get("/article/gift-link/".concat(encodeURIComponent("article id")),{redemptionUrl:"https://gift-url-redeemed",remainingAllowance:1})}}).call(this,__webpack_require__(9)(module))},1061:function(module,exports,__webpack_require__){(function(module){var nonGiftArticleUrl="".concat("https://www.ft.com/content/blahblahblah","?shareType=nongift");exports.title="Without gift credits",exports.data={title:"Share this article (without credit)",isFreeArticle:!1,article:{id:"article id",url:"https://www.ft.com/content/blahblahblah",title:"Title Title Title Title"}},exports.m=module,exports.fetchMock=function(fetchMock){fetchMock.get("/article/gift-credits",{credits:{allowance:20,consumedCredits:20,remainingCredits:0,renewalDate:"2018-08-01T00:00:00Z"}}).get("/article/shorten-url/".concat(encodeURIComponent(nonGiftArticleUrl)),{shortenedUrl:"https://shortened-non-gift-url"})}}).call(this,__webpack_require__(9)(module))},1062:function(module,exports,__webpack_require__){(function(module){var nonGiftArticleUrl="".concat("https://www.ft.com/content/blahblahblah","?shareType=nongift");exports.title="Free article",exports.data={title:"Share this article (free)",isFreeArticle:!0,article:{title:"Title Title Title Title",id:"base-gift-article-static-id",url:"https://www.ft.com/content/blahblahblah"}},exports.m=module,exports.fetchMock=function(fetchMock){fetchMock.get("/article/gift-credits",{credits:{allowance:20,consumedCredits:5,remainingCredits:15,renewalDate:"2018-08-01T00:00:00Z"}}).get("/article/shorten-url/".concat(encodeURIComponent(nonGiftArticleUrl)),{shortenedUrl:"https://shortened-non-gift-url"})}}).call(this,__webpack_require__(9)(module))},1063:function(module,exports,__webpack_require__){(function(module){var articleUrl="https://www.ft.com/content/blahblahblah",nonGiftArticleUrl="".concat(articleUrl,"?shareType=nongift");exports.title="With native share on App",exports.data={title:"Share this article (on App)",isFreeArticle:!1,article:{id:"article id",url:articleUrl,title:"Title Title Title Title"},nativeShare:!0,id:"base-gift-article-static-id"},exports.m=module,exports.fetchMock=function(fetchMock){fetchMock.get("/article/gift-credits",{credits:{allowance:20,consumedCredits:2,remainingCredits:18,renewalDate:"2018-08-01T00:00:00Z"}}).get("/article/shorten-url/".concat(encodeURIComponent("https://gift-url-redeemed")),{shortenedUrl:"https://shortened-gift-url"}).get("/article/shorten-url/".concat(encodeURIComponent(nonGiftArticleUrl)),{shortenedUrl:"https://shortened-non-gift-url"}).get("/article/gift-link/".concat(encodeURIComponent("article id")),{redemptionUrl:"https://gift-url-redeemed",remainingAllowance:1})}}).call(this,__webpack_require__(9)(module))},1064:function(module,exports,__webpack_require__){(function(module){var nonGiftArticleUrl="".concat("https://www.ft.com/content/blahblahblah","?shareType=nongift");exports.title="With a bad response from membership APIs",exports.data={title:"Share this article (unable to fetch credits)",isFreeArticle:!1,article:{id:"article id",url:"https://www.ft.com/content/blahblahblah",title:"Title Title Title Title"}},exports.m=module,exports.fetchMock=function(fetchMock){fetchMock.get("/article/gift-credits",{throw:new Error("bad membership api")}).get("/article/shorten-url/".concat(encodeURIComponent(nonGiftArticleUrl)),{shortenedUrl:"https://shortened-non-gift-url"})}}).call(this,__webpack_require__(9)(module))},1065:function(module,exports,__webpack_require__){var PodcastLaunchers=__webpack_require__(1066).PodcastLaunchers;exports.component=PodcastLaunchers,exports.package=__webpack_require__(1071),exports.dependencies={"o-normalise":"^1.6.0","o-typography":"^5.5.0","o-buttons":"^5.16.6","o-forms":"^6.0.3"},exports.stories=[__webpack_require__(1072)],exports.knobs=__webpack_require__(1073)},1066:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var nanoid=function _interopDefault(ex){return ex&&"object"==typeof ex&&"default"in ex?ex.default:ex}(__webpack_require__(1067)),nConceptIds=__webpack_require__(480),xEngine=__webpack_require__(67),xFollowButton=__webpack_require__(1068);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _possibleConstructorReturn(self,call){return!call||"object"!=typeof call&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}var appLinksConfig=[{name:"Apple Podcasts",template:"podcast://{url}",includeProtocol:!1,trackingId:"apple-podcasts"},{name:"Overcast",template:"overcast://x-callback-url/add?url={url}",includeProtocol:!0,trackingId:"overcast"},{name:"Pocket Casts",template:"pktc://subscribe/{url}",includeProtocol:!1,trackingId:"pocket-casts"},{name:"Podcast Addict",template:"podcastaddict://{url}",includeProtocol:!1,trackingId:"podcast-addict"},{name:"Acast",template:"acast://subscribe/{url}",includeProtocol:!0,trackingId:"acast"}];var acastSeriesIds=new Map([[nConceptIds.brand.rachmanReviewPodcast,"therachmanreview"]]),styles={container:"PodcastLaunchers_container__1418-",heading:"PodcastLaunchers_heading__1103H","o-typography--loading-sansBold":"PodcastLaunchers_o-typography--loading-sansBold__2lplJ",podcastAppLinksWrapper:"PodcastLaunchers_podcastAppLinksWrapper__7W6dn",podcastAppLink:"PodcastLaunchers_podcastAppLink__69RMR",rssUrlWrapper:"PodcastLaunchers_rssUrlWrapper__vc1zt",rssUrlInput:"PodcastLaunchers_rssUrlInput__O7wL-",rssUrlCopyButton:"PodcastLaunchers_rssUrlCopyButton__2_4c0",rssUrlCopySpan:"PodcastLaunchers_rssUrlCopySpan__2ZEEK"};function copyToClipboard(event){var url=event.target.dataset.url,containerEl=event.target.parentElement,rssLink=document.createElement("span");rssLink.classList.add(styles.rssUrlCopySpan),rssLink.appendChild(document.createTextNode(url)),containerEl.appendChild(rssLink);var range=document.createRange();window.getSelection().removeAllRanges(),range.selectNode(rssLink),window.getSelection().addRange(range),document.execCommand("copy"),window.getSelection().removeAllRanges(),containerEl.removeChild(rssLink)}var basicButtonStyles=["o-buttons","o-buttons--primary","o-buttons--big"].join(" "),podcastAppLinkStyles=[basicButtonStyles,styles.podcastAppLink].join(" "),rssUrlWrapperStyles=["o-forms__affix-wrapper",styles.rssUrlWrapper].join(" "),rssUrlInputStyles=["o-forms__text",styles.rssUrlInput].join(" "),rssUrlCopyButtonWrapperStyles=["o-forms__suffix",styles.rssUrlCopyButton].join(" ");function defaultFollowButtonRender(conceptId,conceptName,csrfToken,isFollowed){return xEngine.h(xFollowButton.FollowButton,{conceptId:conceptId,conceptName:conceptName,csrfToken:csrfToken,isFollowed:isFollowed})}var PodcastLaunchers=function(_Component){function PodcastLaunchers(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PodcastLaunchers),(_this=_possibleConstructorReturn(this,_getPrototypeOf(PodcastLaunchers).call(this,props))).state={rssUrl:""},_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(PodcastLaunchers,xEngine.Component),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(PodcastLaunchers,[{key:"componentDidMount",value:function componentDidMount(){var acastHost,seriesId,token,_this$props=this.props,conceptId=_this$props.conceptId,acastRSSHost=_this$props.acastRSSHost,acastAccessToken=_this$props.acastAccessToken,acastSeries=acastSeriesIds.get(conceptId);acastSeries&&this.setState({rssUrl:(acastHost=acastRSSHost,seriesId=acastSeries,token=acastAccessToken,"".concat(acastHost,"/rss/").concat(seriesId,"/").concat(token||nanoid(10)))})}},{key:"render",value:function render(){var rssUrl=this.state.rssUrl,_this$props2=this.props,conceptId=_this$props2.conceptId,conceptName=_this$props2.conceptName,csrfToken=_this$props2.csrfToken,isFollowed=_this$props2.isFollowed,renderFollowButton=_this$props2.renderFollowButton,followButton="function"==typeof renderFollowButton?renderFollowButton:defaultFollowButtonRender;return rssUrl&&xEngine.h("div",{className:styles.container,"data-trackable":"podcast-launchers"},xEngine.h("h2",{className:styles.heading},"Subscribe on a podcast app"),xEngine.h("ul",{className:styles.podcastAppLinksWrapper},function generateAppLinks(rssUrl){return appLinksConfig.map(function(data){var url=data.includeProtocol?rssUrl:rssUrl.replace(/^https?:\/\//,"");return Object.assign({},data,{url:data.template.replace(/{url}/,url)})})}(rssUrl).map(function(_ref){var name=_ref.name,url=_ref.url,trackingId=_ref.trackingId;return xEngine.h("li",{key:name},xEngine.h("a",{href:url,className:podcastAppLinkStyles,"data-trackable":trackingId},name))}),xEngine.h("li",{key:"Rss Url",className:rssUrlWrapperStyles},xEngine.h("input",{className:rssUrlInputStyles,value:rssUrl,type:"text",readOnly:!0}),xEngine.h("div",{className:rssUrlCopyButtonWrapperStyles},xEngine.h("button",{className:basicButtonStyles,onClick:copyToClipboard,"data-url":rssUrl,"data-trackable":"copy-rss",type:"button"},"Copy RSS")))),xEngine.h("h2",{className:styles.heading},"Can’t see your podcast app?"),followButton(conceptId,conceptName,csrfToken,isFollowed))}}]),PodcastLaunchers}();exports.PodcastLaunchers=PodcastLaunchers},1071:function(module){module.exports=JSON.parse('{"name":"@financial-times/x-podcast-launchers","version":"0.0.0","description":"","main":"dist/PodcastLaunchers.cjs.js","module":"dist/PodcastLaunchers.esm.js","browser":"dist/PodcastLaunchers.es5.js","style":"dist/PodcastLaunchers.css","scripts":{"prepare":"bower install && npm run build","build":"node rollup.js","start":"node rollup.js --watch"},"keywords":["x-dash"],"author":"","license":"ISC","dependencies":{"@financial-times/n-concept-ids":"^1.4.0","@financial-times/x-engine":"file:../../packages/x-engine","@financial-times/x-follow-button":"0.0.12","nanoid":"^2.0.3"},"devDependencies":{"@financial-times/x-rollup":"file:../../packages/x-rollup","bower":"^1.8.8"},"repository":{"type":"git","url":"https://github.com/Financial-Times/x-dash.git"},"homepage":"https://github.com/Financial-Times/x-dash/tree/master/components/x-podcastlaunchers","engines":{"node":">= 6.0.0"},"publishConfig":{"access":"public"}}')},1072:function(module,exports,__webpack_require__){(function(module){var brand=__webpack_require__(480).brand;exports.title="Example",exports.data={conceptId:brand.rachmanReviewPodcast,conceptName:"Rachman Review",isFollowed:!1,csrfToken:"token",acastRSSHost:"https://access.acast.com",acastAccessToken:"abc-123"},exports.m=module}).call(this,__webpack_require__(9)(module))},1073:function(module,exports){module.exports=function(data,_ref){var text=_ref.text;return{conceptId:text("Concept id",data.conceptId),acastRSSHost:text("Acast RSS host",data.acastRSSHost),acastAccessToken:text("Acast Access token",data.acastAccessToken)}}},1074:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(113),_src_Increment__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(299);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("x-increment",module).add("Sync",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_Increment__WEBPACK_IMPORTED_MODULE_2__.a,{count:1,id:"base-increment-static-id"})}).add("Async",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_Increment__WEBPACK_IMPORTED_MODULE_2__.a,{count:1,timeout:1e3,id:"base-increment-static-id"})})}.call(this,__webpack_require__(326)(module))},296:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var xEngine=__webpack_require__(67),shortId=function _interopDefault(ex){return ex&&"object"==typeof ex&&"default"in ex?ex.default:ex}(__webpack_require__(1058));function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _possibleConstructorReturn(self,call){return!call||"object"!=typeof call&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var InteractionRender=function InteractionRender(_ref){var id=_ref.id,actions=_ref.actions,state=_ref.state,initialState=_ref.initialState,inFlight=_ref.inFlight,Component=_ref.Component;return xEngine.h(Component,Object.assign({},initialState,state,{id:id,actions:actions},{isLoading:inFlight>0}))},mapValues=function mapValues(obj,fn){return Object.keys(obj).reduce(function(mapped,key){return Object.assign(mapped,function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},key,fn(obj[key],key,obj)))},{})},InteractionClass=function(_Component){function InteractionClass(props){var _getPrototypeOf2,_this;_classCallCheck(this,InteractionClass);for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return(_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(InteractionClass)).call.apply(_getPrototypeOf2,[this,props].concat(args)))).state={state:{},inFlight:0},_this.createActions(props),_this}return _inherits(InteractionClass,xEngine.Component),_createClass(InteractionClass,[{key:"createActions",value:function createActions(props){var _this2=this;this.actions=mapValues(props.actions,function(func){return function(){var $args=arguments;return new Promise(function($return,$error){var stateUpdate,nextState;return Promise.resolve().then(function(){_this2.setState(function(_ref){return{inFlight:_ref.inFlight+1}})}),Promise.resolve(Promise.resolve(func.apply(void 0,$args))).then(function($await_3){try{return stateUpdate=$await_3,Promise.resolve(new Promise(function($return,$error){return"function"==typeof stateUpdate?Promise.resolve(Promise.resolve(stateUpdate(Object.assign({},props.initialState,_this2.state.state)))).then(function($await_4){try{return $return(Object.assign(_this2.state.state,$await_4))}catch($boundEx){return $error($boundEx)}},$error):$return(Object.assign(_this2.state.state,stateUpdate))})).then(function($await_5){try{return nextState=$await_5,$return(new Promise(function(resolve){return _this2.setState({state:nextState},function(){return _this2.setState(function(_ref2){return{inFlight:_ref2.inFlight-1}},resolve)})}))}catch($boundEx){return $error($boundEx)}},$error)}catch($boundEx){return $error($boundEx)}},$error)})}})}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(props){this.createActions(props)}},{key:"componentDidMount",value:function componentDidMount(){this.props.actionsRef&&this.props.actionsRef(this.actions)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.actionsRef&&this.props.actionsRef(null)}},{key:"render",value:function render(){return xEngine.h(InteractionRender,Object.assign({},this.props,this.state,{actions:this.actions}))}}]),InteractionClass}(),getComponentName=function getComponentName(Component){return Component.displayName||Component.name||"Unknown"};function wrapComponentName(Component,Enhanced){var originalDisplayName=getComponentName(Component);Enhanced.displayName="withActions(".concat(originalDisplayName,")"),Enhanced.wrappedDisplayName=originalDisplayName}var registeredComponents={};function registerComponent(component){registeredComponents[component.wrappedDisplayName]=component}var HydrationWrapper=function(_Component){function HydrationWrapper(){return _classCallCheck(this,HydrationWrapper),_possibleConstructorReturn(this,_getPrototypeOf(HydrationWrapper).apply(this,arguments))}return _inherits(HydrationWrapper,xEngine.Component),_createClass(HydrationWrapper,[{key:"render",value:function render(){var _this=this,_this$props=this.props,Component=_this$props.Component,props=_this$props.props,id=_this$props.id;return xEngine.h(Component,Object.assign({},props,{id:id,actionsRef:function actionsRef(a){return _this.actions=a}}))}},{key:"componentDidMount",value:function componentDidMount(){this.props.wrapper&&this.props.wrapper.addEventListener("x-interaction.trigger-action",this)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.wrapper&&this.props.wrapper.removeEventListener("x-interaction.trigger-action",this)}},{key:"handleEvent",value:function handleEvent(event){var _this$actions,_event$detail=event.detail,action=_event$detail.action,_event$detail$args=_event$detail.args,args=void 0===_event$detail$args?[]:_event$detail$args;this.actions&&this.actions[action]&&(_this$actions=this.actions)[action].apply(_this$actions,_toConsumableArray(args))}}]),HydrationWrapper}();var HydrationData=function HydrationData(_ref){var serialiser=_ref.serialiser;if(serialiser){var data=serialiser.flushHydrationData();return xEngine.h("script",{dangerouslySetInnerHTML:{__html:"window._xDashInteractionHydrationData = ".concat(JSON.stringify(data))}})}return null},Serialiser=function(){function Serialiser(){_classCallCheck(this,Serialiser),this.destroyed=!1,this.data=[]}return _createClass(Serialiser,[{key:"addData",value:function addData(_ref){var id=_ref.id,Component=_ref.Component,props=_ref.props;if(this.destroyed)throw new Error("an interaction component was rendered after flushHydrationData was called. ensure you're outputting the hydration data after rendering every component");this.data.push({id:id,component:getComponentName(Component),props:props})}},{key:"flushHydrationData",value:function flushHydrationData(){if(this.destroyed)throw new Error("a Serialiser's flushHydrationData was called twice. ensure you're not reusing a Serialiser between requests");return this.destroyed=!0,this.data}},{key:"outputHydrationData",value:function outputHydrationData(){return xEngine.render(xEngine.h(HydrationData,{serialiser:this}))}}]),Serialiser}(),Interaction="undefined"!=typeof window?InteractionClass:function InteractionSSR(_ref){var initialState=_ref.initialState,Component=_ref.Component,_ref$id=_ref.id,id=void 0===_ref$id?"".concat(getComponentName(Component),"-").concat(shortId()):_ref$id,actions=_ref.actions,serialiser=_ref.serialiser;return serialiser&&serialiser.addData({id:id,Component:Component,props:initialState}),xEngine.h("div",{"data-x-dash-id":id},xEngine.h(InteractionRender,{Component:Component,initialState:initialState,id:id,actions:actions}))},invoke=function invoke(fnOrObj){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return"function"==typeof fnOrObj?fnOrObj.apply(void 0,args):fnOrObj};exports.withActions=function withActions(getActions){var getDefaultState=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(Component){var _wraps={getActions:getActions,getDefaultState:getDefaultState,Component:Component};if(Component._wraps){var wrappedGetActions=Component._wraps.getActions,wrappedGetDefaultState=Component._wraps.getDefaultState;Component=Component._wraps.Component,getActions=function getActions(initialState){return Object.assign(invoke(wrappedGetActions,initialState),invoke(_wraps.getActions,initialState))},getDefaultState=function getDefaultState(initialState){return Object.assign(invoke(wrappedGetDefaultState,initialState),invoke(_wraps.getDefaultState,initialState))}}function Enhanced(_ref){var id=_ref.id,actionsRef=_ref.actionsRef,serialiser=_ref.serialiser,initialState=_objectWithoutProperties(_ref,["id","actionsRef","serialiser"]),actions=invoke(getActions,initialState),defaultState=invoke(getDefaultState,initialState);return xEngine.h(Interaction,{id:id,Component:Component,initialState:Object.assign({},defaultState,initialState),actionsRef:actionsRef,serialiser:serialiser,actions:actions})}return Enhanced._wraps=_wraps,wrapComponentName(Component,Enhanced),registerComponent(Enhanced),Enhanced}},exports.hydrate=function hydrate(){if("undefined"==typeof window)throw new Error("x-interaction hydrate should only be called in the browser");if(!("_xDashInteractionHydrationData"in window))throw new Error("x-interaction hydrate was called without hydration data available. this can happen if you call hydrate before the serialised data is available, or if you're not including the hydration data with your server-rendered markup.");var serialiserOrdering="make sure you're always outputting the serialiser's data in the same request that the serialiser was created. see https://financial-times.github.io/x-dash/components/x-interaction/#hydrating for more details.";window._xDashInteractionHydrationData.forEach(function(_ref){var id=_ref.id,component=_ref.component,props=_ref.props,wrapper=document.querySelector('[data-x-dash-id="'.concat(id,'"]'));if(!wrapper)throw new Error("component markup for ".concat(id," was not found on the page. It was expected to be an instance of ").concat(component,". it's likely that this hydration data is from another request. ").concat(serialiserOrdering));for(var Component=function getComponent(name){return registeredComponents[name]}(component);wrapper.firstChild;)wrapper.removeChild(wrapper.firstChild);xEngine.render(xEngine.h(HydrationWrapper,{Component:Component,props:props,id:id,wrapper:wrapper}),wrapper)}),document.querySelectorAll("[data-x-dash-id]").forEach(function(element){var xDashId=element.dataset.xDashId;if(!window._xDashInteractionHydrationData.some(function(_ref2){return _ref2.id===xDashId}))throw new Error("found component markup for ".concat(xDashId," without any hydration data. it's likely that its hydration data has been output in another request, or that the component was rendered after the serialisation data was output. ").concat(serialiserOrdering))})},exports.HydrationData=HydrationData,exports.Serialiser=Serialiser},299:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Increment});__webpack_require__(37),__webpack_require__(403),__webpack_require__(445),__webpack_require__(446);var _financial_times_x_engine__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(67),_financial_times_x_interaction__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(296);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}var delay=function(ms){return new Promise(function(r){return setTimeout(r,ms)})},withIncrementActions=Object(_financial_times_x_interaction__WEBPACK_IMPORTED_MODULE_5__.withActions)(function(_ref){var _increment,timeout=_ref.timeout;return{increment:(_increment=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}var gen=fn.apply(self,args);_next(void 0)})}}(regeneratorRuntime.mark(function _callee(){var _ref2,_ref2$amount,amount,_args=arguments;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _ref2=0<_args.length&&void 0!==_args[0]?_args[0]:{},_ref2$amount=_ref2.amount,amount=void 0===_ref2$amount?1:_ref2$amount,_context.next=3,delay(timeout);case 3:return _context.abrupt("return",function(_ref3){return{count:_ref3.count+amount}});case 4:case"end":return _context.stop()}},_callee)})),function increment(){return _increment.apply(this,arguments)})}}),BaseIncrement=function(_ref4){var count=_ref4.count,increment=_ref4.actions.increment,isLoading=_ref4.isLoading;return Object(_financial_times_x_engine__WEBPACK_IMPORTED_MODULE_4__.h)("div",null,Object(_financial_times_x_engine__WEBPACK_IMPORTED_MODULE_4__.h)("span",null,count),Object(_financial_times_x_engine__WEBPACK_IMPORTED_MODULE_4__.h)("button",{onClick:function onClick(){return increment()},disabled:isLoading},isLoading?"Loading...":"Increment"))};BaseIncrement.displayName="BaseIncrement";var Increment=withIncrementActions(BaseIncrement);BaseIncrement.__docgenInfo={description:"",methods:[],displayName:"BaseIncrement"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/x-increment/src/Increment.jsx"]={name:"BaseIncrement",docgenInfo:BaseIncrement.__docgenInfo,path:"components/x-increment/src/Increment.jsx"})},483:function(module,exports,__webpack_require__){var components=[__webpack_require__(1031),__webpack_require__(1051),__webpack_require__(1056),__webpack_require__(1065)];module.exports=components},484:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(30),__webpack_require__(45),__webpack_require__(99),__webpack_require__(31),__webpack_require__(162),__webpack_require__(132),__webpack_require__(160),__webpack_require__(2),__webpack_require__(161),__webpack_require__(328),__webpack_require__(57),__webpack_require__(32);var react=__webpack_require__(10),react_default=__webpack_require__.n(react),Helmet=(__webpack_require__(47),__webpack_require__(56),__webpack_require__(48),__webpack_require__(791),__webpack_require__(131),__webpack_require__(382),__webpack_require__(384),__webpack_require__(385),__webpack_require__(37),__webpack_require__(58),__webpack_require__(59),__webpack_require__(204));function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function buildServiceUrl(deps,type){var modules=Object.keys(deps).map(function(i){return"".concat(i,"@").concat(deps[i])}).join(",");return"https://www.ft.com/__origami/service/build/v2/bundles/".concat(type,"?modules=").concat(modules)}var build_service_BuildService=function(_React$Component){function BuildService(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BuildService),(_this=_possibleConstructorReturn(this,_getPrototypeOf(BuildService).call(this,props))).initialised=[],_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(BuildService,react_default.a.Component),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(BuildService,[{key:"componentDidUpdate",value:function componentDidUpdate(){if(window.hasOwnProperty("Origami"))for(var component in Origami)if("function"==typeof Origami[component].init){var instance=Origami[component].init();this.initialised.concat(instance)}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.initialised.forEach(function(instance){"function"==typeof instance.destroy&&instance.destroy()})}},{key:"render",value:function render(){var js=buildServiceUrl(this.props.dependencies,"js"),css=buildServiceUrl(this.props.dependencies,"css");return react_default.a.createElement(Helmet.Helmet,null,react_default.a.createElement("script",{src:js}),react_default.a.createElement("link",{rel:"stylesheet",href:css}))}}]),BuildService}();build_service_BuildService.displayName="BuildService";var build_service=build_service_BuildService;build_service_BuildService.__docgenInfo={description:"",methods:[],displayName:"BuildService"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES[".storybook/build-service.js"]={name:"BuildService",docgenInfo:build_service_BuildService.__docgenInfo,path:".storybook/build-service.js"});var client=__webpack_require__(113),dist=__webpack_require__(297),path_browserify=__webpack_require__(482),path_browserify_default=__webpack_require__.n(path_browserify),es5_client=__webpack_require__(298),es5_client_default=__webpack_require__.n(es5_client);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var defaultKnobs=function(){return{}};function createProps(defaultData){var allowedKnobs=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],mixedProps=function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(source,!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))});return target}({},defaultData,{},(2<arguments.length&&void 0!==arguments[2]?arguments[2]:defaultKnobs)(defaultData,dist));return 0===allowedKnobs.length?mixedProps:allowedKnobs.reduce(function(map,prop){if(mixedProps.hasOwnProperty(prop)){var value=mixedProps[prop];map[prop]="function"==typeof value?value():value}return map},{})}__webpack_exports__.a=function buildStory(_ref){var pkg=_ref.package,dependencies=_ref.dependencies,Component=_ref.component,knobs=_ref.knobs,story=_ref.story,name=path_browserify_default.a.basename(pkg.name),storybook=Object(client.storiesOf)(name,story.m);storybook.addDecorator(dist.withKnobs);var _ref2=react_default.a.createElement(build_service,{dependencies:dependencies});return storybook.add(story.title,function(){var props=createProps(story.data,story.knobs,knobs);return story.fetchMock&&(es5_client_default.a.restore(),story.fetchMock(es5_client_default.a)),react_default.a.createElement("div",{className:"story-container"},dependencies&&_ref2,pkg.style&&react_default.a.createElement(Helmet.Helmet,null,react_default.a.createElement("link",{rel:"stylesheet",href:"components/".concat(name,"/").concat(pkg.style)})),react_default.a.createElement(Component,props))}),storybook}},485:function(module,exports,__webpack_require__){__webpack_require__(486),__webpack_require__(589),module.exports=__webpack_require__(590)},590:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(30),__webpack_require__(99),__webpack_require__(31),__webpack_require__(159),__webpack_require__(160),__webpack_require__(2),__webpack_require__(161),__webpack_require__(328),__webpack_require__(57),__webpack_require__(32);var _storybook_react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(113),_build_story__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(484),_register_components__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(483);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(0<=excluded.indexOf(key))&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}Object(_storybook_react__WEBPACK_IMPORTED_MODULE_10__.configure)(function(){_register_components__WEBPACK_IMPORTED_MODULE_12__.forEach(function(_ref){var stories=_ref.stories,data=_objectWithoutProperties(_ref,["stories"]);stories.forEach(function(story){return Object(_build_story__WEBPACK_IMPORTED_MODULE_11__.a)(function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(source,!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))});return target}({story:story},data))})}),__webpack_require__(1074)},module)}.call(this,__webpack_require__(326)(module))},66:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var xEngine=__webpack_require__(67),dateformat=function _interopDefault(ex){return ex&&"object"==typeof ex&&"default"in ex?ex.default:ex}(__webpack_require__(1032)),rulesets={media:function media(props){return props.showVideo&&props.video&&props.video.url?"video":props.showHeadshot&&props.headshot&&props.indicators.isColumn?"headshot":props.showImage&&props.image&&props.image.url?"image":void 0},theme:function theme(props){return props.theme?props.theme:"inprogress"===props.status?"live":props.indicators&&props.indicators.isOpinion?"opinion":props.indicators&&props.indicators.isEditorsChoice?"highlight":props.parentTheme?props.parentTheme:void 0}};function rules(rule,props){if(rulesets.hasOwnProperty(rule))return rulesets[rule](props);throw Error("No ruleset available named ".concat(rule))}var media=function media(props){return rules("media",props)},dynamicModifiers=function dynamicModifiers(props){var modifiers=[],mediaRule=media(props);mediaRule&&modifiers.push("has-".concat(mediaRule));var themeRule=function theme(props){return rules("theme",props)}(props);return themeRule&&modifiers.push(themeRule),modifiers},Container=function(props){var computed=dynamicModifiers(props),classNames=[props.type,props.layout].concat(props.modifiers,computed).filter(Boolean).map(function(mod){return"o-teaser--".concat(mod)}).join(" ");return xEngine.h("div",{className:"o-teaser ".concat(classNames," js-teaser"),"data-id":props.id},props.children)},Content=function(_ref){var _ref$children=_ref.children,children=void 0===_ref$children?[]:_ref$children;return xEngine.h("div",{className:"o-teaser__content"},children)},CustomSlot=function(_ref){var customSlot=_ref.customSlot;return customSlot?xEngine.h("div",{className:"o-teaser__action"},function render(action){return"string"==typeof action?xEngine.h("span",{dangerouslySetInnerHTML:{__html:action}}):action}(customSlot)):null},ImageSizes={Headshot:75,XS:180,Small:240,Medium:340,Large:420,XL:640,XXL:1180},Layouts_Small="small",Layouts_Hero="hero",Layouts_TopStory="top-story",Newish=36e5,Recent=144e5,BASE_URL="https://www.ft.com/__origami/service/image/v2/images/raw",OPTIONS=["source=next","fit=scale-down","compression=best"];function imageService(url,width,options){var encoded=encodeURIComponent(url),href="".concat(BASE_URL,"/").concat(encoded,"?").concat(OPTIONS.join("&"),"&width=").concat(width);return options?href+"&"+options:href}var Headshot=function(_ref){var headshot=_ref.headshot,options=(_ref.headshotTint,["tint=".concat("054593,d6d5d3"),"dpr=2"].join("&"));return headshot?xEngine.h("img",{className:"o-teaser__headshot",width:ImageSizes.Headshot,height:ImageSizes.Headshot,alt:"","aria-hidden":"true",src:imageService(headshot,ImageSizes.Headshot,options)}):null};function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var BaseLink=function BaseLink(_ref){var url=_ref.url,_ref$attrs=_ref.attrs,attrs=void 0===_ref$attrs?{}:_ref$attrs,children=_ref.children;return url?xEngine.h("a",Object.assign({href:url},attrs),children):xEngine.h("span",attrs,children)},Link=function(_ref2){var _ref2$customElements=_ref2.customElements,customElements=void 0===_ref2$customElements?{}:_ref2$customElements,props=_objectWithoutProperties(_ref2,["customElements"]),Link=customElements.Link||BaseLink;return xEngine.h(Link,props)},aspectRatio=function aspectRatio(_ref){var width=_ref.width,height=_ref.height;return"number"==typeof width&&"number"==typeof height?(100/width*height).toFixed(4)+"%":null},NormalImage=function NormalImage(_ref2){var src=_ref2.src;return xEngine.h("img",{className:"o-teaser__image",src:src,alt:""})},LazyImage=function LazyImage(_ref3){var src=_ref3.src,lazyLoad=_ref3.lazyLoad,lazyClassName="string"==typeof lazyLoad?lazyLoad:"";return xEngine.h("img",{className:"o-teaser__image ".concat(lazyClassName),"data-src":src,alt:""})},Image=function(_ref4){var relativeUrl=_ref4.relativeUrl,url=_ref4.url,image=_ref4.image,imageSize=_ref4.imageSize,imageLazyLoad=_ref4.imageLazyLoad,props=_objectWithoutProperties(_ref4,["relativeUrl","url","image","imageSize","imageLazyLoad"]),displayUrl=relativeUrl||url,imageSrc=imageService(image.url,ImageSizes[imageSize]),ImageComponent=imageLazyLoad?LazyImage:NormalImage;return image?xEngine.h("div",{className:"o-teaser__image-container js-teaser-image-container"},xEngine.h("div",{className:"o-teaser__image-placeholder",style:{paddingBottom:aspectRatio(image)}},xEngine.h(Link,Object.assign({},props,{url:displayUrl,attrs:{"data-trackable":"image-link",tabIndex:"-1","aria-hidden":"true"}}),xEngine.h(ImageComponent,{src:imageSrc,lazyLoad:imageLazyLoad})))):null},sameLabel=function sameLabel(){var context=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},label=arguments.length>1?arguments[1]:void 0;return label&&context.parentLabel&&label===context.parentLabel},MetaLink=function(_ref){var metaPrefixText=_ref.metaPrefixText,metaLink=_ref.metaLink,metaAltLink=_ref.metaAltLink,metaSuffixText=_ref.metaSuffixText,context=_ref.context,showPrefixText=metaPrefixText&&!sameLabel(context,metaPrefixText),showSuffixText=metaSuffixText&&!sameLabel(context,metaSuffixText),linkId=metaLink&&metaLink.id,linkLabel=metaLink&&metaLink.prefLabel,displayLink=function sameId(){var context=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},id=arguments.length>1?arguments[1]:void 0;return id&&context.parentId&&id===context.parentId}(context,linkId)||sameLabel(context,linkLabel)?metaAltLink:metaLink;return xEngine.h("div",{className:"o-teaser__meta-tag"},showPrefixText?xEngine.h("span",{className:"o-teaser__tag-prefix"},metaPrefixText):null,displayLink?xEngine.h("a",{className:"o-teaser__tag","data-trackable":"teaser-tag",href:displayLink.relativeUrl||displayLink.url,"aria-label":"Category: ".concat(displayLink.prefLabel)},displayLink.prefLabel):null,showSuffixText?xEngine.h("span",{className:"o-teaser__tag-suffix"},metaSuffixText):null)},Promoted=function(_ref){var promotedPrefixText=_ref.promotedPrefixText,promotedSuffixText=_ref.promotedSuffixText;return xEngine.h("div",{className:"o-teaser__meta-promoted"},xEngine.h("span",{className:"o-teaser__promoted-prefix"},promotedPrefixText),xEngine.h("span",{className:"o-teaser__promoted-by"}," ".concat(promotedSuffixText," ")))},Meta=function(props){var showPromoted=props.promotedPrefixText&&props.promotedSuffixText;return xEngine.h("div",{className:"o-teaser__meta"},showPromoted?xEngine.h(Promoted,props):xEngine.h(MetaLink,props))},renderLink=function renderLink(_ref,i){var id=_ref.id,url=_ref.url,type=_ref.type,title=_ref.title;return xEngine.h("li",{key:"related-".concat(i),"data-content-id":id,className:"o-teaser__related-item o-teaser__related-item--".concat(type)},xEngine.h("a",{"data-trackable":"related",href:url},title))},RelatedLinks=function(_ref2){var _ref2$relatedLinks=_ref2.relatedLinks,relatedLinks=void 0===_ref2$relatedLinks?[]:_ref2$relatedLinks;return relatedLinks&&relatedLinks.length?xEngine.h("ul",{className:"o-teaser__related"},relatedLinks.map(renderLink)):null},TimeStamp=function(_ref){var publishedDate=_ref.publishedDate;return xEngine.h("div",{className:"o-teaser__timestamp"},xEngine.h("time",{className:"o-teaser__timestamp-date",dateTime:dateformat(publishedDate,dateformat.masks.isoDateTime,!0)},dateformat(publishedDate,dateformat.masks.longDate,!0)))};function getRelativeDate(date){return Date.now()-function toDate(date){return"string"==typeof date?new Date(date):"number"==typeof date?new Date(date):date}(date).getTime()}var RelativeTime=function(_ref){var publishedDate=_ref.publishedDate,firstPublishedDate=_ref.firstPublishedDate,relativeDate=getRelativeDate(publishedDate),status=function getStatus(publishedDate,firstPublishedDate){return getRelativeDate(publishedDate)<Newish?publishedDate===firstPublishedDate?"new":"updated":""}(publishedDate,firstPublishedDate);return function isRecent(relativeDate){return relativeDate<Recent}(relativeDate)?xEngine.h("div",{className:"o-teaser__timestamp o-teaser__timestamp--".concat(status)},status?xEngine.h("span",{className:"o-teaser__timestamp-prefix"},"".concat(status," ")," "):null,xEngine.h("time",{className:"o-teaser__timestamp-date o-date","data-o-component":"o-date","data-o-date-format":"time-ago-limit-4-hours",dateTime:dateformat(publishedDate,dateformat.masks.isoDateTime,!0)},status?"":function displayTime(date){var hours=Math.floor(Math.abs(date/36e5)),suffix=0===hours?"":"".concat(1===hours?"hour":"hours"," ago");return"".concat(hours," ").concat(suffix)}(relativeDate))):null},LiveBlogLabels={inprogress:"Live",comingsoon:"Coming Soon",closed:""},LiveBlogModifiers={inprogress:"live",comingsoon:"pending",closed:"closed"},LiveBlogStatus=function(_ref){var status=_ref.status;return status&&"closed"!==status?xEngine.h("div",{className:"o-teaser__timestamp o-teaser__timestamp--".concat(LiveBlogModifiers[status])},xEngine.h("span",{className:"o-teaser__timestamp-prefix"},LiveBlogLabels[status])):null},Status=function(props){return props.status?xEngine.h(LiveBlogStatus,props):props.publishedDate?props.useRelativeTime?xEngine.h(RelativeTime,props):xEngine.h(TimeStamp,props):null},Standfirst=function(_ref){var standfirst=_ref.standfirst,altStandfirst=_ref.altStandfirst,headlineTesting=_ref.headlineTesting,relativeUrl=_ref.relativeUrl,url=_ref.url,props=_objectWithoutProperties(_ref,["standfirst","altStandfirst","headlineTesting","relativeUrl","url"]),displayStandfirst=headlineTesting&&altStandfirst?altStandfirst:standfirst,displayUrl=relativeUrl||url;return displayStandfirst?xEngine.h("p",{className:"o-teaser__standfirst"},xEngine.h(Link,Object.assign({},props,{url:displayUrl,attrs:{"data-trackable":"standfirst-link",tabIndex:-1,className:"js-teaser-standfirst-link"}}),displayStandfirst)):null},Title=function(_ref){var ariaLabel,title=_ref.title,altTitle=_ref.altTitle,headlineTesting=_ref.headlineTesting,relativeUrl=_ref.relativeUrl,url=_ref.url,indicators=_ref.indicators,props=_objectWithoutProperties(_ref,["title","altTitle","headlineTesting","relativeUrl","url","indicators"]),displayTitle=headlineTesting&&altTitle?altTitle:title,displayUrl=relativeUrl||url;return"video"===props.type?ariaLabel="Watch video ".concat(displayTitle):"audio"===props.type&&(ariaLabel="Listen to podcast ".concat(displayTitle)),xEngine.h("div",{className:"o-teaser__heading"},xEngine.h(Link,Object.assign({},props,{url:displayUrl,attrs:{"data-trackable":"heading-link",className:"js-teaser-heading-link","aria-label":ariaLabel}}),displayTitle),indicators&&"premium"===indicators.accessLevel?xEngine.h("span",null," ",xEngine.h("span",{className:"o-labels o-labels--premium o-labels--content-premium","aria-label":"Premium content"},"Premium")):null)},formatData=function formatData(props){return JSON.stringify({renditions:[props.video],mainImageUrl:props.image?props.image.url:null})},Embed=function Embed(props){return xEngine.h("div",{className:"o-teaser__image-container js-image-container"},xEngine.h("div",{className:"o-video","data-o-component":"o-video","data-o-video-id":props.id,"data-o-video-data":formatData(props),"data-o-video-optimumwidth":"640","data-o-video-optimumvideowidth":"640","data-o-video-autorender":"true","data-o-video-playsinline":"true","data-o-video-placeholder":"true","data-o-video-placeholder-info":"[]","data-o-video-placeholder-hint":"Play video"}))},Video=function(props){return xEngine.h("div",{className:"o-teaser__video"},xEngine.h("div",{className:"o--if-js"},xEngine.h(Embed,props)),xEngine.h("div",{className:"o--if-no-js"},xEngine.h(Image,props)))},presets={Small:{layout:Layouts_Small,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStatus:!0},SmallHeavy:{layout:Layouts_Small,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStandfirst:!0,showStatus:!0,showImage:!0,imageSize:"Small"},Large:{layout:"large",useRelativeTime:!0,showMeta:!0,showTitle:!0,showStandfirst:!0,showStatus:!0,showImage:!0,imageSize:"Medium"},Hero:{layout:Layouts_Hero,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStatus:!0,showImage:!0,imageSize:"Medium"},HeroNarrow:{layout:Layouts_Hero,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStandfirst:!0,showStatus:!0},HeroVideo:{layout:Layouts_Hero,useRelativeTime:!0,showMeta:!0,showTitle:!0,showVideo:!0,imageSize:"Large"},HeroOverlay:{layout:Layouts_Hero,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStatus:!0,showImage:!0,imageSize:"XL",modifiers:["hero-image"]},TopStory:{layout:Layouts_TopStory,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStandfirst:!0,showStatus:!0,showRelatedLinks:!0},TopStoryLandscape:{layout:Layouts_TopStory,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStandfirst:!0,showStatus:!0,showImage:!0,imageSize:"XL",showRelatedLinks:!0,modifiers:["landscape"]}};exports.Container=Container,exports.Content=Content,exports.CustomSlot=CustomSlot,exports.Headshot=Headshot,exports.Image=Image,exports.Meta=Meta,exports.RelatedLinks=RelatedLinks,exports.Standfirst=Standfirst,exports.Status=Status,exports.Teaser=function Teaser(props){return xEngine.h(Container,props,xEngine.h(Content,null,props.showMeta?xEngine.h(Meta,props):null,"video"===media(props)?xEngine.h(Video,props):null,props.showTitle?xEngine.h(Title,props):null,props.showStandfirst?xEngine.h(Standfirst,props):null,props.showStatus?xEngine.h(Status,props):null,props.showCustomSlot?xEngine.h(CustomSlot,props):null,"headshot"===media(props)?xEngine.h(Headshot,props):null),"image"===media(props)?xEngine.h(Image,props):null,props.showRelatedLinks?xEngine.h(RelatedLinks,props):null)},exports.Title=Title,exports.Video=Video,exports.presets=presets},67:function(module,exports,__webpack_require__){var runtime=__webpack_require__(10),render=__webpack_require__(255);module.exports.h=runtime.createElement,module.exports.render=render.render,module.exports.Component=runtime.Component,module.exports.Fragment=runtime.Fragment}},[[485,1,2]]]);
//# sourceMappingURL=main.d8ffebdfd097bc206c01.bundle.js.map