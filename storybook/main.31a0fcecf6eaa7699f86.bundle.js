(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(module,exports,__webpack_require__){var runtime=__webpack_require__(11),render=__webpack_require__(224);module.exports.h=runtime.createElement,module.exports.render=render.render,module.exports.Component=runtime.Component,module.exports.Fragment=runtime.Fragment},260:function(module,exports,__webpack_require__){var components=[__webpack_require__(581),__webpack_require__(593),__webpack_require__(601)];module.exports=components},261:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(54),__webpack_require__(94),__webpack_require__(30),__webpack_require__(24),__webpack_require__(22),__webpack_require__(28),__webpack_require__(43),__webpack_require__(5),__webpack_require__(70),__webpack_require__(98);var react=__webpack_require__(11),react_default=__webpack_require__.n(react),Helmet=(__webpack_require__(66),__webpack_require__(215),__webpack_require__(140),__webpack_require__(81),__webpack_require__(118));function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function buildServiceUrl(deps,type){var modules=Object.keys(deps).map(function(i){return"".concat(i,"@").concat(deps[i])}).join(",");return"https://www.ft.com/__origami/service/build/v2/bundles/".concat(type,"?modules=").concat(modules)}var build_service_BuildService=function(_React$Component){function BuildService(props){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BuildService),(_this=_possibleConstructorReturn(this,_getPrototypeOf(BuildService).call(this,props))).initialised=[],_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(BuildService,react_default.a.Component),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(BuildService,[{key:"componentDidUpdate",value:function componentDidUpdate(){if(window.hasOwnProperty("Origami"))for(var component in Origami)if("function"==typeof Origami[component].init){var instance=Origami[component].init();this.initialised.concat(instance)}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.initialised.forEach(function(instance){"function"==typeof instance.destroy&&instance.destroy()})}},{key:"render",value:function render(){var js=buildServiceUrl(this.props.dependencies,"js"),css=buildServiceUrl(this.props.dependencies,"css");return react_default.a.createElement(Helmet.Helmet,null,react_default.a.createElement("script",{src:js}),react_default.a.createElement("link",{rel:"stylesheet",href:css}))}}]),BuildService}();build_service_BuildService.displayName="BuildService";var build_service=build_service_BuildService;build_service_BuildService.__docgenInfo={description:"",methods:[],displayName:"BuildService"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES[".storybook/build-service.js"]={name:"BuildService",docgenInfo:build_service_BuildService.__docgenInfo,path:".storybook/build-service.js"});var client=__webpack_require__(117),dist=__webpack_require__(169),path_browserify=__webpack_require__(259),path_browserify_default=__webpack_require__.n(path_browserify),es5_client=__webpack_require__(170),es5_client_default=__webpack_require__.n(es5_client);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var defaultKnobs=function(){return{}};function createProps(defaultData){var allowedKnobs=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],mixedProps=function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}({},defaultData,(2<arguments.length&&void 0!==arguments[2]?arguments[2]:defaultKnobs)(defaultData,dist));return 0===allowedKnobs.length?mixedProps:allowedKnobs.reduce(function(map,prop){if(mixedProps.hasOwnProperty(prop)){var value=mixedProps[prop];map[prop]="function"==typeof value?value():value}return map},{})}__webpack_exports__.a=function buildStory(_ref){var pkg=_ref.package,dependencies=_ref.dependencies,Component=_ref.component,knobs=_ref.knobs,story=_ref.story,name=path_browserify_default.a.basename(pkg.name),storybook=Object(client.storiesOf)(name,story.m);storybook.addDecorator(dist.withKnobs);var _ref2=react_default.a.createElement(build_service,{dependencies:dependencies});return storybook.add(story.title,function(){var props=createProps(story.data,story.knobs,knobs);return story.fetchMock&&(es5_client_default.a.restore(),story.fetchMock(es5_client_default.a)),react_default.a.createElement("div",{className:"story-container"},dependencies&&_ref2,pkg.style&&react_default.a.createElement(Helmet.Helmet,null,react_default.a.createElement("link",{rel:"stylesheet",href:"components/".concat(name,"/").concat(pkg.style)})),react_default.a.createElement(Component,props))}),storybook}},262:function(module,exports,__webpack_require__){__webpack_require__(263),__webpack_require__(346),module.exports=__webpack_require__(347)},347:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(94),__webpack_require__(5),__webpack_require__(30),__webpack_require__(95),__webpack_require__(24),__webpack_require__(22),__webpack_require__(28),__webpack_require__(43),__webpack_require__(54);var _storybook_react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(117),_build_story__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(261),_register_components__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(260);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(0<=excluded.indexOf(key))&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}Object(_storybook_react__WEBPACK_IMPORTED_MODULE_9__.configure)(function(){_register_components__WEBPACK_IMPORTED_MODULE_11__.forEach(function(_ref){var stories=_ref.stories,data=_objectWithoutProperties(_ref,["stories"]);stories.forEach(function(story){return Object(_build_story__WEBPACK_IMPORTED_MODULE_10__.a)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}({story:story},data))})})},module)}.call(this,__webpack_require__(348)(module))},38:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var xEngine=__webpack_require__(116),dateformat=function _interopDefault(ex){return ex&&"object"==typeof ex&&"default"in ex?ex.default:ex}(__webpack_require__(582)),rulesets={media:function media(props){return props.showVideo&&props.video&&props.video.url?"video":props.showHeadshot&&props.headshot&&props.indicators.isColumn?"headshot":props.showImage&&props.image&&props.image.url?"image":void 0},theme:function theme(props){return props.theme?props.theme:"inprogress"===props.status?"live":props.indicators&&props.indicators.isOpinion?"opinion":props.indicators&&props.indicators.isEditorsChoice?"highlight":props.parentTheme?props.parentTheme:void 0}};function rules(rule,props){if(rulesets.hasOwnProperty(rule))return rulesets[rule](props);throw Error("No ruleset available named ".concat(rule))}var media=function media(props){return rules("media",props)},dynamicModifiers=function dynamicModifiers(props){var modifiers=[],mediaRule=media(props);mediaRule&&modifiers.push("has-".concat(mediaRule));var themeRule=function theme(props){return rules("theme",props)}(props);return themeRule&&modifiers.push(themeRule),modifiers},Container=function(props){var computed=dynamicModifiers(props),classNames=[props.type,props.layout].concat(props.modifiers,computed).filter(Boolean).map(function(mod){return"o-teaser--".concat(mod)}).join(" ");return xEngine.h("div",{className:"o-teaser ".concat(classNames," js-teaser"),"data-id":props.id},props.children)},Content=function(_ref){var _ref$children=_ref.children,children=void 0===_ref$children?[]:_ref$children;return xEngine.h("div",{className:"o-teaser__content"},children)},CustomSlot=function(_ref){var customSlot=_ref.customSlot;return customSlot?xEngine.h("div",{className:"o-teaser__action"},function render(action){return"string"==typeof action?xEngine.h("span",{dangerouslySetInnerHTML:{__html:action}}):action}(customSlot)):null},ImageSizes={Headshot:75,XS:180,Small:240,Medium:340,Large:420,XL:640,XXL:1180},Layouts_Small="small",Layouts_Hero="hero",Layouts_TopStory="top-story",Newish=36e5,Recent=144e5,BASE_URL="https://www.ft.com/__origami/service/image/v2/images/raw",OPTIONS=["source=next","fit=scale-down","compression=best"];function imageService(url,width,options){var encoded=encodeURIComponent(url),href="".concat(BASE_URL,"/").concat(encoded,"?").concat(OPTIONS.join("&"),"&width=").concat(width);return options?href+"&"+options:href}var Headshot=function(_ref){var headshot=_ref.headshot,options=(_ref.headshotTint,["tint=".concat("054593,d6d5d3"),"dpr=2"].join("&"));return headshot?xEngine.h("img",{className:"o-teaser__headshot",width:ImageSizes.Headshot,height:ImageSizes.Headshot,alt:"","aria-hidden":"true",src:imageService(headshot,ImageSizes.Headshot,options)}):null};function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var BaseLink=function BaseLink(_ref){var url=_ref.url,_ref$attrs=_ref.attrs,attrs=void 0===_ref$attrs?{}:_ref$attrs,children=_ref.children;return url?xEngine.h("a",Object.assign({href:url},attrs),children):xEngine.h("span",attrs,children)},Link=function(_ref2){var _ref2$customElements=_ref2.customElements,customElements=void 0===_ref2$customElements?{}:_ref2$customElements,props=_objectWithoutProperties(_ref2,["customElements"]),Link=customElements.Link||BaseLink;return xEngine.h(Link,props)},aspectRatio=function aspectRatio(_ref){var width=_ref.width,height=_ref.height;return"number"==typeof width&&"number"==typeof height?(100/width*height).toFixed(4)+"%":null},NormalImage=function NormalImage(_ref2){var src=_ref2.src;return xEngine.h("img",{className:"o-teaser__image",src:src,alt:""})},LazyImage=function LazyImage(_ref3){var src=_ref3.src,lazyLoad=_ref3.lazyLoad,lazyClassName="string"==typeof lazyLoad?lazyLoad:"";return xEngine.h("img",{className:"o-teaser__image ".concat(lazyClassName),"data-src":src,alt:""})},Image=function(_ref4){var relativeUrl=_ref4.relativeUrl,url=_ref4.url,image=_ref4.image,imageSize=_ref4.imageSize,imageLazyLoad=_ref4.imageLazyLoad,props=_objectWithoutProperties(_ref4,["relativeUrl","url","image","imageSize","imageLazyLoad"]),displayUrl=relativeUrl||url,imageSrc=imageService(image.url,ImageSizes[imageSize]),ImageComponent=imageLazyLoad?LazyImage:NormalImage;return image?xEngine.h("div",{className:"o-teaser__image-container js-teaser-image-container"},xEngine.h("div",{className:"o-teaser__image-placeholder",style:{paddingBottom:aspectRatio(image)}},xEngine.h(Link,Object.assign({},props,{url:displayUrl,attrs:{"data-trackable":"image-link","tab-index":"-1","aria-hidden":"true"}}),xEngine.h(ImageComponent,{src:imageSrc,lazyLoad:imageLazyLoad})))):null},sameLabel=function sameLabel(){var context=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},label=arguments.length>1?arguments[1]:void 0;return label&&context.parentLabel&&label===context.parentLabel},MetaLink=function(_ref){var metaPrefixText=_ref.metaPrefixText,metaLink=_ref.metaLink,metaAltLink=_ref.metaAltLink,metaSuffixText=_ref.metaSuffixText,context=_ref.context,showPrefixText=metaPrefixText&&!sameLabel(context,metaPrefixText),showSuffixText=metaSuffixText&&!sameLabel(context,metaSuffixText),linkId=metaLink&&metaLink.id,linkLabel=metaLink&&metaLink.prefLabel,displayLink=function sameId(){var context=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},id=arguments.length>1?arguments[1]:void 0;return id&&context.parentId&&id===context.parentId}(context,linkId)||sameLabel(context,linkLabel)?metaAltLink:metaLink;return xEngine.h("div",{className:"o-teaser__meta-tag"},showPrefixText?xEngine.h("span",{className:"o-teaser__tag-prefix"},metaPrefixText):null,displayLink?xEngine.h("a",{className:"o-teaser__tag","data-trackable":"teaser-tag",href:displayLink.relativeUrl||displayLink.url},displayLink.prefLabel):null,showSuffixText?xEngine.h("span",{className:"o-teaser__tag-suffix"},metaSuffixText):null)},Promoted=function(_ref){var promotedPrefixText=_ref.promotedPrefixText,promotedSuffixText=_ref.promotedSuffixText;return xEngine.h("div",{className:"o-teaser__meta-promoted"},xEngine.h("span",{className:"o-teaser__promoted-prefix"},promotedPrefixText),xEngine.h("span",{className:"o-teaser__promoted-by"}," ".concat(promotedSuffixText," ")))},Meta=function(props){var showPromoted=props.promotedPrefixText&&props.promotedSuffixText;return xEngine.h("div",{className:"o-teaser__meta"},showPromoted?xEngine.h(Promoted,props):xEngine.h(MetaLink,props))},renderLink=function renderLink(_ref,i){var id=_ref.id,url=_ref.url,type=_ref.type,title=_ref.title;return xEngine.h("li",{key:"related-".concat(i),"data-content-id":id,className:"o-teaser__related-item o-teaser__related-item--".concat(type)},xEngine.h("a",{"data-trackable":"related",href:url},title))},RelatedLinks=function(_ref2){var _ref2$relatedLinks=_ref2.relatedLinks,relatedLinks=void 0===_ref2$relatedLinks?[]:_ref2$relatedLinks;return relatedLinks&&relatedLinks.length?xEngine.h("ul",{className:"o-teaser__related"},relatedLinks.map(renderLink)):null},TimeStamp=function(_ref){var publishedDate=_ref.publishedDate;return xEngine.h("div",{className:"o-teaser__timestamp"},xEngine.h("time",{className:"o-teaser__timestamp-date",dateTime:dateformat(publishedDate,dateformat.masks.isoDateTime,!0)},dateformat(publishedDate,dateformat.masks.longDate,!0)))};function getRelativeDate(date){return Date.now()-function toDate(date){return"string"==typeof date?new Date(date):"number"==typeof date?new Date(date):date}(date).getTime()}var RelativeTime=function(_ref){var publishedDate=_ref.publishedDate,firstPublishedDate=_ref.firstPublishedDate,relativeDate=getRelativeDate(publishedDate),status=function getStatus(publishedDate,firstPublishedDate){return getRelativeDate(publishedDate)<Newish?publishedDate===firstPublishedDate?"new":"updated":""}(publishedDate,firstPublishedDate);return function isRecent(relativeDate){return relativeDate<Recent}(relativeDate)?xEngine.h("div",{className:"o-teaser__timestamp o-teaser__timestamp--".concat(status)},status?xEngine.h("span",{className:"o-teaser__timestamp-prefix"},"".concat(status," ")," "):null,xEngine.h("time",{className:"o-teaser__timestamp-date o-date","data-o-component":"o-date","data-o-date-format":"time-ago-limit-4-hours",dateTime:dateformat(publishedDate,dateformat.masks.isoDateTime,!0)},status?"":function displayTime(date){var hours=Math.floor(Math.abs(date/36e5)),suffix=0===hours?"":"".concat(1===hours?"hour":"hours"," ago");return"".concat(hours," ").concat(suffix)}(relativeDate))):null},LiveBlogLabels={inprogress:"Live",comingsoon:"Coming Soon",closed:""},LiveBlogModifiers={inprogress:"live",comingsoon:"pending",closed:"closed"},LiveBlogStatus=function(_ref){var status=_ref.status;return status&&"closed"!==status?xEngine.h("div",{className:"o-teaser__timestamp o-teaser__timestamp--".concat(LiveBlogModifiers[status])},xEngine.h("span",{className:"o-teaser__timestamp-prefix"},LiveBlogLabels[status])):null},Status=function(props){return props.status?xEngine.h(LiveBlogStatus,props):props.publishedDate?props.useRelativeTime?xEngine.h(RelativeTime,props):xEngine.h(TimeStamp,props):null},Standfirst=function(_ref){var standfirst=_ref.standfirst,altStandfirst=_ref.altStandfirst,headlineTesting=_ref.headlineTesting,relativeUrl=_ref.relativeUrl,url=_ref.url,props=_objectWithoutProperties(_ref,["standfirst","altStandfirst","headlineTesting","relativeUrl","url"]),displayStandfirst=headlineTesting&&altStandfirst?altStandfirst:standfirst,displayUrl=relativeUrl||url;return displayStandfirst?xEngine.h("p",{className:"o-teaser__standfirst"},xEngine.h(Link,Object.assign({},props,{url:displayUrl,attrs:{"data-trackable":"standfirst-link",tabIndex:-1,className:"js-teaser-standfirst-link"}}),displayStandfirst)):null},Title=function(_ref){var title=_ref.title,altTitle=_ref.altTitle,headlineTesting=_ref.headlineTesting,relativeUrl=_ref.relativeUrl,url=_ref.url,indicators=_ref.indicators,props=_objectWithoutProperties(_ref,["title","altTitle","headlineTesting","relativeUrl","url","indicators"]),displayTitle=headlineTesting&&altTitle?altTitle:title,displayUrl=relativeUrl||url;return xEngine.h("div",{className:"o-teaser__heading"},xEngine.h(Link,Object.assign({},props,{url:displayUrl,attrs:{"data-trackable":"heading-link",className:"js-teaser-heading-link"}}),displayTitle),indicators&&"premium"===indicators.accessLevel?xEngine.h("span",{className:"o-labels o-labels--premium o-labels--content-premium","aria-label":"Premium content"},"Premium"):null)},formatData=function formatData(props){return JSON.stringify({renditions:[props.video],mainImageUrl:props.image?props.image.url:null})},Embed=function Embed(props){return xEngine.h("div",{className:"o-teaser__image-container js-image-container"},xEngine.h("div",{className:"o-video","data-o-component":"o-video","data-o-video-id":props.id,"data-o-video-data":formatData(props),"data-o-video-autorender":"true","data-o-video-playsinline":"true","data-o-video-placeholder":"true","data-o-video-placeholder-info":"[]","data-o-video-placeholder-hint":"Play video"}))},Video=function(props){return xEngine.h("div",{className:"o-teaser__video"},xEngine.h("div",{className:"o--if-js"},xEngine.h(Embed,props)),xEngine.h("div",{className:"o--if-no-js"},xEngine.h(Image,props)))},presets={Small:{layout:Layouts_Small,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStatus:!0},SmallHeavy:{layout:Layouts_Small,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStandfirst:!0,showStatus:!0,showImage:!0,imageSize:"Small"},Large:{layout:"large",useRelativeTime:!0,showMeta:!0,showTitle:!0,showStandfirst:!0,showStatus:!0,showImage:!0,imageSize:"Medium"},Hero:{layout:Layouts_Hero,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStatus:!0,showImage:!0,imageSize:"Medium"},HeroNarrow:{layout:Layouts_Hero,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStandfirst:!0,showStatus:!0},HeroVideo:{layout:Layouts_Hero,useRelativeTime:!0,showMeta:!0,showTitle:!0,showVideo:!0,imageSize:"Large"},HeroOverlay:{layout:Layouts_Hero,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStatus:!0,showImage:!0,imageSize:"XL",modifiers:["hero-image"]},TopStory:{layout:Layouts_TopStory,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStandfirst:!0,showStatus:!0,showRelatedLinks:!0},TopStoryLandscape:{layout:Layouts_TopStory,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStandfirst:!0,showStatus:!0,showImage:!0,imageSize:"XL",showRelatedLinks:!0,modifiers:["landscape"]}};exports.Container=Container,exports.Content=Content,exports.CustomSlot=CustomSlot,exports.Headshot=Headshot,exports.Image=Image,exports.Meta=Meta,exports.RelatedLinks=RelatedLinks,exports.Standfirst=Standfirst,exports.Status=Status,exports.Teaser=function Teaser(props){return xEngine.h(Container,props,xEngine.h(Content,null,props.showMeta?xEngine.h(Meta,props):null,"video"===media(props)?xEngine.h(Video,props):null,props.showTitle?xEngine.h(Title,props):null,props.showStandfirst?xEngine.h(Standfirst,props):null,props.showStatus?xEngine.h(Status,props):null,props.showCustomSlot?xEngine.h(CustomSlot,props):null,"headshot"===media(props)?xEngine.h(Headshot,props):null),"image"===media(props)?xEngine.h(Image,props):null,props.showRelatedLinks?xEngine.h(RelatedLinks,props):null)},exports.Title=Title,exports.Video=Video,exports.presets=presets},581:function(module,exports,__webpack_require__){var Teaser=__webpack_require__(38).Teaser;exports.component=Teaser,exports.package=__webpack_require__(583),exports.dependencies={"o-normalise":"^1.6.0","o-date":"^2.11.0","o-typography":"^5.5.0","o-teaser":"^3.5.0","o-labels":"^4.2.1","o-video":"^4.1.0"},exports.stories=[__webpack_require__(584),__webpack_require__(585),__webpack_require__(586),__webpack_require__(587),__webpack_require__(588),__webpack_require__(589),__webpack_require__(590),__webpack_require__(591)],exports.knobs=__webpack_require__(592)},583:function(module){module.exports={name:"@financial-times/x-teaser",version:"0.0.0",description:"This module provides templates for use with o-teaser. Teasers are used to present content.",main:"dist/Teaser.cjs.js",module:"dist/Teaser.esm.js",browser:"dist/Teaser.es5.js",types:"Props.d.ts",scripts:{build:"node rollup.js",start:"node rollup.js --watch"},keywords:["x-dash"],author:"",license:"ISC",dependencies:{"@financial-times/x-engine":"file:../../packages/x-engine",dateformat:"^3.0.3"},devDependencies:{"@financial-times/x-rollup":"file:../../packages/x-rollup"},repository:{type:"git",url:"https://github.com/Financial-Times/x-dash.git"},homepage:"https://github.com/Financial-Times/x-dash/tree/master/components/x-teaser",engines:{node:">= 6.0.0"},publishConfig:{access:"public"}}},584:function(module,exports,__webpack_require__){(function(module){__webpack_require__(15);var presets=__webpack_require__(38).presets;exports.title="Article",exports.data=Object.assign({type:"article",id:"",url:"#",title:"Inside charity fundraiser where hostesses are put on show",altTitle:"Men Only, the charity fundraiser with hostesses on show",standfirst:"FT investigation finds groping and sexual harassment at secretive black-tie dinner",altStandfirst:"Groping and sexual harassment at black-tie dinner charity event",publishedDate:"2018-01-23T15:07:00.000Z",firstPublishedDate:"2018-01-23T13:53:00.000Z",metaPrefixText:"",metaSuffixText:"",metaLink:{url:"#",prefLabel:"Sexual misconduct allegations"},metaAltLink:{url:"#",prefLabel:"FT Investigations"},image:{url:"http://prod-upp-image-read.ft.com/a25832ea-0053-11e8-9650-9c0ad2d7c5b5",width:2048,height:1152},indicators:{isEditorsChoice:!0}},presets.SmallHeavy),exports.knobs=["id","url","type","showMeta","metaPrefixText","metaSuffixText","metaLink","showTitle","title","altTitle","showStandfirst","standfirst","altStandfirst","showStatus","publishedDate","firstPublishedDate","useRelativeTime","status","showImage","image","imageSize","indicators","headlineTesting","layout","modifiers"],exports.m=module}).call(this,__webpack_require__(14)(module))},585:function(module,exports,__webpack_require__){(function(module){__webpack_require__(15);var presets=__webpack_require__(38).presets;exports.title="Podcast",exports.data=Object.assign({type:"audio",id:"d1246074-f7d3-4aaf-951c-80a6db495765",url:"https://www.ft.com/content/d1246074-f7d3-4aaf-951c-80a6db495765",title:"Who sets the internet standards?",standfirst:"Hannah Kuchler talks to American social scientist and cyber security expert Andrea…",altStandfirst:"",publishedDate:"2018-10-24T04:00:00.000Z",firstPublishedDate:"2018-10-24T04:00:00.000Z",metaSuffixText:"12 mins",metaLink:{url:"#",prefLabel:"Tech Tonic podcast"},metaAltLink:null,image:{url:"https://www.ft.com/__origami/service/image/v2/images/raw/http%3A%2F%2Fprod-upp-image-read.ft.com%2F5d1a54aa-f49b-11e8-ae55-df4bf40f9d0d?source=next&fit=scale-down&compression=best&width=240",width:2048,height:1152},indicators:{isPodcast:!0}},presets.SmallHeavy),exports.knobs=["id","url","type","showMeta","metaPrefixText","metaSuffixText","metaLink","showTitle","title","altTitle","showStandfirst","standfirst","altStandfirst","showStatus","publishedDate","firstPublishedDate","useRelativeTime","status","showImage","image","imageSize","indicators","headlineTesting","layout","modifiers"],exports.m=module}).call(this,__webpack_require__(14)(module))},586:function(module,exports,__webpack_require__){(function(module){__webpack_require__(15);var presets=__webpack_require__(38).presets;exports.title="Opinion Piece",exports.data=Object.assign({type:"article",id:"",url:"#",title:"Anti-Semitism and the threat of identity politics",altTitle:"",standfirst:"Today, hatred of Jews is mixed in with fights about Islam and Israel",altStandfirst:"Anti-Semitism and identity politics",publishedDate:"2018-04-02T12:22:01.000Z",firstPublishedDate:"2018-04-02T12:22:01.000Z",metaPrefixText:"",metaSuffixText:"",metaLink:{url:"#",prefLabel:"Gideon Rachman"},metaAltLink:{url:"#",prefLabel:"Anti-Semitism"},image:{url:"http://prod-upp-image-read.ft.com/1005ca96-364b-11e8-8b98-2f31af407cc8",width:2048,height:1152},headshot:"fthead-v1:gideon-rachman",indicators:{isOpinion:!0,isColumn:!0}},presets.SmallHeavy,{showHeadshot:!0}),exports.knobs=["id","url","type","showMeta","metaPrefixText","metaSuffixText","metaLink","showTitle","title","showStandfirst","standfirst","showStatus","publishedDate","firstPublishedDate","useRelativeTime","status","showHeadshot","headshot","showImage","image","imageSize","layout","modifiers","indicators"],exports.m=module}).call(this,__webpack_require__(14)(module))},587:function(module,exports,__webpack_require__){(function(module){__webpack_require__(15);var presets=__webpack_require__(38).presets;exports.title="Content Package",exports.data=Object.assign({type:"package",id:"",url:"#",title:"The royal wedding",altTitle:"",standfirst:"Prince Harry and Meghan Markle will tie the knot at Windsor Castle",altStandfirst:"",publishedDate:"2018-05-14T16:38:49.000Z",firstPublishedDate:"2018-05-14T16:38:49.000Z",metaPrefixText:"",metaSuffixText:"",metaLink:{url:"#",prefLabel:"FT Magazine"},metaAltLink:{url:"#",prefLabel:"FT Series"},image:{url:"http://prod-upp-image-read.ft.com/7e97f5b6-578d-11e8-b8b2-d6ceb45fa9d0",width:2048,height:1152}},presets.Hero,{modifiers:"centre"}),exports.knobs=["id","url","type","showMeta","metaLink","showTitle","title","showStandfirst","standfirst","showStatus","publishedDate","firstPublishedDate","useRelativeTime","showImage","image","imageSize","layout","theme","modifiers"],exports.m=module}).call(this,__webpack_require__(14)(module))},588:function(module,exports,__webpack_require__){(function(module){__webpack_require__(15);var presets=__webpack_require__(38).presets;exports.title="Package item",exports.data=Object.assign({type:"article",id:"",url:"#",title:"Why so little has changed since the crash",standfirst:"Martin Wolf on the power of vested interests in today’s rent-extracting economy",publishedDate:"2018-09-02T15:07:00.000Z",firstPublishedDate:"2018-09-02T13:53:00.000Z",metaPrefixText:"FT Series",metaSuffixText:"",metaLink:{url:"#",prefLabel:"Financial crisis: Are we safer now? "},image:{url:"http://prod-upp-image-read.ft.com/a25832ea-0053-11e8-9650-9c0ad2d7c5b5",width:2048,height:1152},indicators:{isOpinion:!0}},presets.Hero,{parentTheme:"extra-article",modifiers:"centre"}),exports.knobs=["id","url","type","showMeta","metaPrefixText","metaSuffixText","metaLink","showTitle","title","showStandfirst","standfirst","showStatus","publishedDate","firstPublishedDate","useRelativeTime","showImage","image","imageSize","indicators","layout","theme","parentTheme","modifiers"],exports.m=module}).call(this,__webpack_require__(14)(module))},589:function(module,exports,__webpack_require__){(function(module){__webpack_require__(15);var presets=__webpack_require__(38).presets;exports.title="Paid Post",exports.data=Object.assign({type:"paid-post",id:"",url:"#",title:"Why eSports companies are on a winning streak",standfirst:"ESports is big business and about to get bigger: global revenues could hit $1.5bn by 2020",promotedPrefixText:"Paid post",promotedSuffixText:"by UBS",image:{url:"https://tpc.googlesyndication.com/pagead/imgad?id=CICAgKCrm_3yahABGAEyCMx3RoLss603",width:700,height:394}},presets.SmallHeavy),exports.knobs=["id","url","type","showMeta","promotedPrefixText","promotedSuffixText","showTitle","title","showStandfirst","standfirst","showImage","image","imageSize","layout","modifiers"],exports.m=module}).call(this,__webpack_require__(14)(module))},590:function(module,exports,__webpack_require__){(function(module){__webpack_require__(15);var presets=__webpack_require__(38).presets;exports.title="Top Story",exports.data=Object.assign({type:"article",id:"",url:"#",title:"Inside charity fundraiser where hostesses are put on show",altTitle:"Men Only, the charity fundraiser with hostesses on show",standfirst:"FT investigation finds groping and sexual harassment at secretive black-tie dinner",altStandfirst:"Groping and sexual harassment at black-tie dinner charity event",publishedDate:"2018-01-23T15:07:00.000Z",firstPublishedDate:"2018-01-23T13:53:00.000Z",metaPrefixText:"",metaSuffixText:"",metaLink:{url:"#",prefLabel:"Sexual misconduct allegations"},metaAltLink:{url:"#",prefLabel:"FT Investigations"},image:{url:"http://prod-upp-image-read.ft.com/a25832ea-0053-11e8-9650-9c0ad2d7c5b5",width:2048,height:1152},relatedLinks:[{id:"",url:"#",type:"article",title:"Removing the fig leaf of charity"},{id:"",url:"#",type:"article",title:"A dinner that demeaned both women and men"},{id:"",url:"#",type:"video",title:"PM speaks out after Presidents Club dinner"}]},presets.TopStoryLandscape),exports.knobs=["id","url","type","showMeta","metaPrefixText","metaSuffixText","metaLink","showTitle","title","showStandfirst","standfirst","showStatus","publishedDate","firstPublishedDate","useRelativeTime","showImage","image","imageSize","showRelatedLinks","relatedLinks","layout","modifiers"],exports.m=module}).call(this,__webpack_require__(14)(module))},591:function(module,exports,__webpack_require__){(function(module){__webpack_require__(15);var presets=__webpack_require__(38).presets;exports.title="Video",exports.data=Object.assign({type:"video",id:"0e89d872-5711-457b-80b1-4ca0d8afea46",url:"#",title:"FT View: Donald Trump, man of steel",standfirst:"The FT's Rob Armstrong looks at why Donald Trump is pushing trade tariffs",publishedDate:"2018-03-26T08:12:28.137Z",firstPublishedDate:"2018-03-26T08:12:28.137Z",metaPrefixText:"",metaSuffixText:"02:51min",metaLink:{url:"#",prefLabel:"Global Trade"},metaAltLink:{url:"#",prefLabel:"US"},image:{url:"http://com.ft.imagepublish.upp-prod-eu.s3.amazonaws.com/a27ce49b-85b8-445b-b883-db6e2f533194",width:1920,height:1080},video:{url:"https://next-media-api.ft.com/renditions/15218247321960/640x360.mp4",width:640,height:360,mediaType:"video/mp4",codec:"h264"}},presets.HeroVideo),exports.knobs=["id","url","type","showMeta","metaPrefixText","metaSuffixText","metaLink","showTitle","title","showStatus","publishedDate","firstPublishedDate","useRelativeTime","showImage","image","imageSize","showVideo","video","layout","modifiers"],exports.m=module}).call(this,__webpack_require__(14)(module))},592:function(module,exports,__webpack_require__){__webpack_require__(15),module.exports=function(data,_ref){var object=_ref.object,text=_ref.text,number=_ref.number,_boolean=_ref.boolean,date=_ref.date,select=_ref.select,Groups_Meta="Meta",Groups_Title="Title",Groups_Standfirst="Standfirst",Groups_Status="Status",Groups_Image="Image",Groups_Headshot="Headshot",Groups_Video="Video",Groups_RelatedLinks="Related Links",Groups_Indicators="Indicators",Groups_Context="Context",Groups_Variant="Variant";return Object.assign({},{showMeta:function showMeta(){return _boolean("Show meta",data.showMeta,Groups_Meta)},showTitle:function showTitle(){return _boolean("Show title",data.showTitle,Groups_Title)},showStandfirst:function showStandfirst(){return _boolean("Show standfirst",data.showStandfirst,Groups_Standfirst)},showStatus:function showStatus(){return _boolean("Show status",data.showStatus,Groups_Status)},showImage:function showImage(){return _boolean("Show image",data.showImage,Groups_Image)},showHeadshot:function showHeadshot(){return _boolean("Show headshot",data.showHeadshot,Groups_Headshot)},showVideo:function showVideo(){return _boolean("Show video",data.showVideo,Groups_Video)},showRelatedLinks:function showRelatedLinks(){return _boolean("Show related links",data.showRelatedLinks,Groups_RelatedLinks)}},{metaPrefixText:function metaPrefixText(){return text("Meta prefix text",data.metaPrefixText,Groups_Meta)},metaSuffixText:function metaSuffixText(){return text("Meta suffix text",data.metaSuffixText,Groups_Meta)},metaLink:function metaLink(){return{url:data.metaLink.url,prefLabel:text("Meta link",data.metaLink.prefLabel,Groups_Meta)}},metaAltLink:function metaAltLink(){return{url:data.metaAltLink.url,prefLabel:text("Alt meta link",data.metaAltLink.prefLabel,Groups_Meta)}},promotedPrefixText:function promotedPrefixText(){return text("Promoted prefix text",data.promotedPrefixText,Groups_Meta)},promotedSuffixText:function promotedSuffixText(){return text("Promoted suffix text",data.promotedSuffixText,Groups_Meta)}},{title:function title(){return text("Title",data.title,Groups_Title)},altTitle:function altTitle(){return text("Alt title",data.altTitle,Groups_Title)}},{standfirst:function standfirst(){return text("Standfirst",data.standfirst,Groups_Standfirst)},altStandfirst:function altStandfirst(){return text("Alt standfirst",data.altStandfirst,Groups_Standfirst)}},{publishedDate:function publishedDate(){return date("Published date",new Date(data.publishedDate),Groups_Status)},firstPublishedDate:function firstPublishedDate(){return date("First published date",new Date(data.firstPublishedDate),Groups_Status)},useRelativeTime:function useRelativeTime(){return _boolean("Use relative time",data.useRelativeTime,Groups_Status)},status:function status(){return select("Live blog status",{None:"","Coming soon":"comingsoon","In progress":"inprogress",Closed:"closed"},"",Groups_Status)}},{video:function video(){return{url:text("Video URL",data.video.url,Groups_Video),width:number("Video width",data.video.width,{},Groups_Video),height:number("Video height",data.video.height,{},Groups_Video),mediaType:data.video.mediaType,codec:data.video.codec}}},{headshot:function headshot(){return text("Headshot",data.headshot,Groups_Headshot)},headshotTint:function headshotTint(){return select("Headshot tint",{Default:""},"Default",Groups_Headshot)}},{image:function image(){return{url:text("Image URL",data.image.url,Groups_Image),width:number("Image width",data.image.width,{},Groups_Image),height:number("Image height",data.image.height,{},Groups_Image)}},imageSize:function imageSize(){return select("Image size",["XS","Small","Medium","Large","XL","XXL"],data.imageSize,Groups_Image)}},{relatedLinks:function relatedLinks(){return object("Related links",data.relatedLinks,Groups_RelatedLinks)}},{indicators:function indicators(){return{accessLevel:select("Access level",["free","registered","subscribed","premium"],data.indicators.accessLevel||"free",Groups_Indicators),isOpinion:_boolean("Is opinion",data.indicators.isOpinion,Groups_Indicators),isColumn:_boolean("Is column",data.indicators.isColumn,Groups_Indicators),isPodcast:_boolean("Is podcast",data.indicators.isPodcast,Groups_Indicators),isEditorsChoice:_boolean("Is editor's choice",data.indicators.isEditorsChoice,Groups_Indicators),isExclusive:_boolean("Is exclusive",data.indicators.isExclusive,Groups_Indicators),isScoop:_boolean("Is scoop",data.indicators.isScoop,Groups_Indicators)}}},{headlineTesting:function headlineTesting(){return _boolean("Headline testing",!1,Groups_Context)},parentId:function parentId(){return text("Parent ID",data.context.parentId,Groups_Context)},parentLabel:function parentLabel(){return text("Parent Label",data.context.parentLabel,Groups_Context)}},{layout:function layout(){return select("Layout",["small","large","hero","top-story"],data.layout,Groups_Variant)},theme:function theme(){return select("Theme",{None:"",Extra:"extra-article","Special Report":"highlight"},data.theme,Groups_Variant)},parentTheme:function parentTheme(){return select("Parent theme",{None:"",Extra:"extra-article","Special Report":"highlight"},data.parentTheme,Groups_Variant)},modifiers:function modifiers(){return select("Modifiers",{None:"","Small stacked":"stacked","Small image on right":"image-on-right","Large portrait":"large-portrait","Large landscape":"large-landscape","Hero centre":"centre","Hero image":"hero-image","Top story landscape":"landscape","Top story big":"big-story"},data.modifiers||"",Groups_Variant)}})}},593:function(module,exports,__webpack_require__){var Increment=__webpack_require__(594).Increment;exports.component=Increment,exports.package=__webpack_require__(597),exports.stories=[__webpack_require__(598),__webpack_require__(599)],exports.knobs=__webpack_require__(600)},594:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var xEngine=__webpack_require__(116),xInteraction=__webpack_require__(595),Increment=xInteraction.withActions(function(_ref){var timeout=_ref.timeout;return{increment:function increment(){var $args=arguments;return new Promise(function($return,$error){var _ref2$amount,amount;return _ref2$amount=($args.length>0&&void 0!==$args[0]?$args[0]:{}).amount,amount=void 0===_ref2$amount?1:_ref2$amount,Promise.resolve(function delay(ms){return new Promise(function(r){return setTimeout(r,ms)})}(timeout)).then(function($await_1){try{return $return(function(_ref3){return{count:_ref3.count+amount}})}catch($boundEx){return $error($boundEx)}},$error)})}}})(function BaseIncrement(_ref4){var count=_ref4.count,increment=_ref4.actions.increment,isLoading=_ref4.isLoading;return xEngine.h("div",null,xEngine.h("span",null,count),xEngine.h("button",{onClick:function onClick(){return increment()},disabled:isLoading},isLoading?"Loading...":"Increment"))});exports.Increment=Increment},595:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var xEngine=__webpack_require__(116),shortId=function _interopDefault(ex){return ex&&"object"==typeof ex&&"default"in ex?ex.default:ex}(__webpack_require__(596));function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _possibleConstructorReturn(self,call){return!call||"object"!=typeof call&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var InteractionRender=function InteractionRender(_ref){var id=_ref.id,actions=_ref.actions,state=_ref.state,initialState=_ref.initialState,inFlight=_ref.inFlight,Component=_ref.Component;return xEngine.h(Component,Object.assign({},initialState,state,{id:id,actions:actions},{isLoading:inFlight>0}))},mapValues=function mapValues(obj,fn){return Object.keys(obj).reduce(function(mapped,key){return Object.assign(mapped,function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},key,fn(obj[key],key,obj)))},{})},InteractionClass=function(_Component){function InteractionClass(props){var _getPrototypeOf2,_this;_classCallCheck(this,InteractionClass);for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return(_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(InteractionClass)).call.apply(_getPrototypeOf2,[this,props].concat(args)))).state={state:{},inFlight:0},_this.createActions(props),_this}return _inherits(InteractionClass,xEngine.Component),_createClass(InteractionClass,[{key:"createActions",value:function createActions(props){var _this2=this;this.actions=mapValues(props.actions,function(func){return function(){var $args=arguments;return new Promise(function($return,$error){var stateUpdate,nextState;return Promise.resolve().then(function(){_this2.setState(function(_ref){return{inFlight:_ref.inFlight+1}})}),Promise.resolve(Promise.resolve(func.apply(void 0,$args))).then(function($await_3){try{return stateUpdate=$await_3,Promise.resolve(new Promise(function($return,$error){return"function"==typeof stateUpdate?Promise.resolve(Promise.resolve(stateUpdate(Object.assign({},props.initialState,_this2.state.state)))).then(function($await_4){try{return $return(Object.assign(_this2.state.state,$await_4))}catch($boundEx){return $error($boundEx)}},$error):$return(Object.assign(_this2.state.state,stateUpdate))})).then(function($await_5){try{return nextState=$await_5,$return(new Promise(function(resolve){return _this2.setState({state:nextState},function(){return _this2.setState(function(_ref2){return{inFlight:_ref2.inFlight-1}},resolve)})}))}catch($boundEx){return $error($boundEx)}},$error)}catch($boundEx){return $error($boundEx)}},$error)})}})}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(props){this.createActions(props)}},{key:"componentDidMount",value:function componentDidMount(){this.props.actionsRef&&this.props.actionsRef(this.actions)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.actionsRef&&this.props.actionsRef(null)}},{key:"render",value:function render(){return xEngine.h(InteractionRender,Object.assign({},this.props,this.state,{actions:this.actions}))}}]),InteractionClass}(),getComponentName=function getComponentName(Component){return Component.displayName||Component.name||"Unknown"};var registeredComponents={};var HydrationWrapper=function(_Component){function HydrationWrapper(){return _classCallCheck(this,HydrationWrapper),_possibleConstructorReturn(this,_getPrototypeOf(HydrationWrapper).apply(this,arguments))}return _inherits(HydrationWrapper,xEngine.Component),_createClass(HydrationWrapper,[{key:"render",value:function render(){var _this=this,_this$props=this.props,Component=_this$props.Component,props=_this$props.props,id=_this$props.id;return xEngine.h(Component,Object.assign({},props,{id:id,actionsRef:function actionsRef(a){return _this.actions=a}}))}},{key:"componentDidMount",value:function componentDidMount(){this.props.wrapper&&this.props.wrapper.addEventListener("x-interaction.trigger-action",this)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.wrapper&&this.props.wrapper.removeEventListener("x-interaction.trigger-action",this)}},{key:"handleEvent",value:function handleEvent(event){var _this$actions,_event$detail=event.detail,action=_event$detail.action,_event$detail$args=_event$detail.args,args=void 0===_event$detail$args?[]:_event$detail$args;this.actions&&this.actions[action]&&(_this$actions=this.actions)[action].apply(_this$actions,_toConsumableArray(args))}}]),HydrationWrapper}();var HydrationData=function HydrationData(_ref){var serialiser=_ref.serialiser;if(serialiser){var data=serialiser.flushHydrationData();return xEngine.h("script",{dangerouslySetInnerHTML:{__html:"window._xDashInteractionHydrationData = ".concat(JSON.stringify(data))}})}return null},Serialiser=function(){function Serialiser(){_classCallCheck(this,Serialiser),this.destroyed=!1,this.data=[]}return _createClass(Serialiser,[{key:"addData",value:function addData(_ref){var id=_ref.id,Component=_ref.Component,props=_ref.props;if(this.destroyed)throw new Error("an interaction component was rendered after flushHydrationData was called. ensure you're outputting the hydration data after rendering every component");this.data.push({id:id,component:getComponentName(Component),props:props})}},{key:"flushHydrationData",value:function flushHydrationData(){if(this.destroyed)throw new Error("a Serialiser's flushHydrationData was called twice. ensure you're not reusing a Serialiser between requests");return this.destroyed=!0,this.data}},{key:"outputHydrationData",value:function outputHydrationData(){return xEngine.render(xEngine.h(HydrationData,{serialiser:this}))}}]),Serialiser}(),Interaction="undefined"!=typeof window?InteractionClass:function InteractionSSR(_ref){var initialState=_ref.initialState,Component=_ref.Component,_ref$id=_ref.id,id=void 0===_ref$id?"".concat(getComponentName(Component),"-").concat(shortId()):_ref$id,actions=_ref.actions,serialiser=_ref.serialiser;return serialiser&&serialiser.addData({id:id,Component:Component,props:initialState}),xEngine.h("div",{"data-x-dash-id":id},xEngine.h(InteractionRender,{Component:Component,initialState:initialState,id:id,actions:actions}))},invoke=function invoke(fnOrObj){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return"function"==typeof fnOrObj?fnOrObj.apply(void 0,args):fnOrObj};exports.withActions=function withActions(getActions){var getDefaultState=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(Component){var _wraps={getActions:getActions,getDefaultState:getDefaultState,Component:Component};if(Component._wraps){var wrappedGetActions=Component._wraps.getActions,wrappedGetDefaultState=Component._wraps.getDefaultState;Component=Component._wraps.Component,getActions=function getActions(initialState){return Object.assign(invoke(wrappedGetActions,initialState),invoke(_wraps.getActions,initialState))},getDefaultState=function getDefaultState(initialState){return Object.assign(invoke(wrappedGetDefaultState,initialState),invoke(_wraps.getDefaultState,initialState))}}function Enhanced(_ref){var id=_ref.id,actionsRef=_ref.actionsRef,serialiser=_ref.serialiser,initialState=_objectWithoutProperties(_ref,["id","actionsRef","serialiser"]),actions=invoke(getActions,initialState),defaultState=invoke(getDefaultState,initialState);return xEngine.h(Interaction,{id:id,Component:Component,initialState:Object.assign({},defaultState,initialState),actionsRef:actionsRef,serialiser:serialiser,actions:actions})}return Enhanced._wraps=_wraps,function wrapComponentName(Component,Enhanced){var originalDisplayName=getComponentName(Component);Enhanced.displayName="withActions(".concat(originalDisplayName,")"),Enhanced.wrappedDisplayName=originalDisplayName}(Component,Enhanced),function registerComponent(component){registeredComponents[component.wrappedDisplayName]=component}(Enhanced),Enhanced}},exports.hydrate=function hydrate(){if("undefined"==typeof window)throw new Error("x-interaction hydrate should only be called in the browser");if(!("_xDashInteractionHydrationData"in window))throw new Error("x-interaction hydrate was called without hydration data available. this can happen if you call hydrate before the serialised data is available, or if you're not including the hydration data with your server-rendered markup.");var serialiserOrdering="make sure you're always outputting the serialiser's data in the same request that the serialiser was created. see https://financial-times.github.io/x-dash/components/x-interaction/#hydrating for more details.";window._xDashInteractionHydrationData.forEach(function(_ref){var id=_ref.id,component=_ref.component,props=_ref.props,wrapper=document.querySelector('[data-x-dash-id="'.concat(id,'"]'));if(!wrapper)throw new Error("component markup for ".concat(id," was not found on the page. It was expected to be an instance of ").concat(component,". it's likely that this hydration data is from another request. ").concat(serialiserOrdering));for(var Component=function getComponent(name){return registeredComponents[name]}(component);wrapper.firstChild;)wrapper.removeChild(wrapper.firstChild);xEngine.render(xEngine.h(HydrationWrapper,{Component:Component,props:props,id:id,wrapper:wrapper}),wrapper)}),document.querySelectorAll("[data-x-dash-id]").forEach(function(element){var xDashId=element.dataset.xDashId;if(!window._xDashInteractionHydrationData.some(function(_ref2){return _ref2.id===xDashId}))throw new Error("found component markup for ".concat(xDashId," without any hydration data. it's likely that its hydration data has been output in another request, or that the component was rendered after the serialisation data was output. ").concat(serialiserOrdering))})},exports.HydrationData=HydrationData,exports.Serialiser=Serialiser},597:function(module){module.exports={name:"@financial-times/x-increment",version:"0.0.0",private:!0,description:"",main:"dist/Increment.cjs.js",module:"dist/Increment.esm.js",browser:"dist/Increment.es5.js",scripts:{build:"node rollup.js",start:"node rollup.js --watch"},keywords:[],author:"",license:"ISC",devDependencies:{"@financial-times/x-rollup":"file:../../packages/x-rollup","@financial-times/x-test-utils":"file:../../packages/x-test-utils"},dependencies:{"@financial-times/x-engine":"file:../../packages/x-engine","@financial-times/x-interaction":"file:../x-interaction"}}},598:function(module,exports,__webpack_require__){(function(module){exports.title="Increment",exports.data={count:1,id:"base-increment-static-id"},exports.m=module}).call(this,__webpack_require__(14)(module))},599:function(module,exports,__webpack_require__){(function(module){__webpack_require__(24),__webpack_require__(22),__webpack_require__(28),__webpack_require__(43),exports.title="Async";var data={count:1,timeout:1e3,id:"base-increment-static-id"};exports.data=data,exports.knobs=Object.keys(data),exports.m=module}).call(this,__webpack_require__(14)(module))},600:function(module,exports){module.exports=function(data,_ref){var number=_ref.number;return{count:function count(){return number("Count",data.count,{})}}}},601:function(module,exports,__webpack_require__){var Button=__webpack_require__(602).Button;exports.component=Button,exports.package=__webpack_require__(604),exports.stories=[__webpack_require__(605)],exports.knobs=function(data,_ref){var _boolean=_ref.boolean;return{danger:function danger(){return _boolean("Danger",data.danger)},large:function large(){return _boolean("Large",data.large)}}}},602:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var xEngine=__webpack_require__(116),classNames=function _interopDefault(ex){return ex&&"object"==typeof ex&&"default"in ex?ex.default:ex}(__webpack_require__(603));function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var buttonStyles_button="Button_button__vS7Mv",buttonStyles_large="Button_large__1R9sG",buttonStyles_danger="Button_danger__2t8xa";exports.Button=function Button(_ref){var _classNames,large=_ref.large,danger=_ref.danger;return xEngine.h("button",{className:classNames(buttonStyles_button,(_classNames={},_defineProperty(_classNames,buttonStyles_large,large),_defineProperty(_classNames,buttonStyles_danger,danger),_classNames))},"Click me!")}},604:function(module){module.exports={name:"@financial-times/x-styling-demo",version:"0.0.0",description:"",main:"dist/Button.cjs.js",browser:"dist/Button.es5.js",module:"dist/Button.esm.js",style:"dist/Button.css",private:!0,scripts:{build:"node rollup.js",start:"node rollup.js --watch"},keywords:[],author:"",license:"ISC",devDependencies:{"@financial-times/x-rollup":"file:../../packages/x-rollup"},dependencies:{"@financial-times/x-engine":"file:../../packages/x-engine",classnames:"^2.2.6"},engines:{node:">= 6.0.0"}}},605:function(module,exports,__webpack_require__){(function(module){exports.title="Styling",exports.data={danger:!1,large:!1},exports.knobs=["danger","large"],exports.m=module}).call(this,__webpack_require__(14)(module))}},[[262,1,2]]]);
//# sourceMappingURL=main.31a0fcecf6eaa7699f86.bundle.js.map