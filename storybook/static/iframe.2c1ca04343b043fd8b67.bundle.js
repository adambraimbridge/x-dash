(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{228:function(e,t,i){const a=i(0),n=i(87);e.exports.h=a.createElement,e.exports.render=n.render,e.exports.Component=a.Component,e.exports.Fragment=a.Fragment},596:function(e,t,i){var a=[i(808),i(820),i(828)];e.exports=a},597:function(e,t,i){"use strict";var a=i(10),n=i.n(a),s=i(0),r=i.n(s),o=i(5),l=i.n(o),d=i(6),u=i.n(d),c=i(11),h=i.n(c),m=i(12),f=i.n(m),p=i(13),g=i.n(p),w=i(246);function v(e,t){var i=Object.keys(e).map(function(t){return"".concat(t,"@").concat(e[t])}).join(",");return"https://www.ft.com/__origami/service/build/v2/bundles/".concat(t,"?modules=").concat(i)}var b=function(e){function t(e){var i;return l()(this,t),(i=h()(this,f()(t).call(this,e))).initialised=[],i}return g()(t,e),u()(t,[{key:"componentDidUpdate",value:function(){if(window.hasOwnProperty("Origami"))for(var e in Origami)if("function"==typeof Origami[e].init){var t=Origami[e].init();this.initialised.concat(t)}}},{key:"componentWillUnmount",value:function(){this.initialised.forEach(function(e){"function"==typeof e.destroy&&e.destroy()})}},{key:"render",value:function(){var e=v(this.props.dependencies,"js"),t=v(this.props.dependencies,"css");return r.a.createElement(w.Helmet,null,r.a.createElement("script",{src:e}),r.a.createElement("link",{rel:"stylesheet",href:t}))}}]),t}(r.a.Component),y=b;b.__docgenInfo={description:"",methods:[],displayName:"BuildService"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES[".storybook/build-service.js"]={name:"BuildService",docgenInfo:b.__docgenInfo,path:".storybook/build-service.js"});var x=i(245),T=i(455),S=i(595),k=i.n(S),_=i(456),L=i.n(_),P=function(){return{}};t.a=function(e){var t=e.package,i=e.dependencies,a=e.component,s=e.knobs,o=e.story,l=k.a.basename(t.name),d=Object(x.storiesOf)(l,o.m);return d.addDecorator(T.withKnobs),d.add(o.title,function(){var e=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:P)(e,T),a=n()({},e,i);return 0===t.length?a:t.reduce(function(e,t){if(a.hasOwnProperty(t)){var i=a[t];e[t]="function"==typeof i?i():i}return e},{})}(o.data,o.knobs,s);return o.fetchMock&&(L.a.restore(),o.fetchMock(L.a)),r.a.createElement("div",{className:"story-container"},i&&r.a.createElement(y,{dependencies:i}),t.style&&r.a.createElement(w.Helmet,null,r.a.createElement("link",{rel:"stylesheet",href:"components/".concat(l,"/").concat(t.style)})),r.a.createElement(a,e))}),d}},598:function(e,t,i){i(248),i(599),e.exports=i(600)},600:function(e,t,i){"use strict";i.r(t),function(e){var t=i(10),a=i.n(t),n=i(132),s=i.n(n),r=i(245),o=i(597),l=i(596);Object(r.configure)(function(){l.forEach(function(e){var t=e.stories,i=s()(e,["stories"]);t.forEach(function(e){return Object(o.a)(a()({story:e},i))})})},e)}.call(this,i(457)(e))},808:function(e,t,i){const{Teaser:a}=i(82);t.component=a,t.package=i(810),t.dependencies={"o-normalise":"^1.6.0","o-date":"^2.11.0","o-typography":"^5.5.0","o-teaser":"^2.3.0","o-labels":"^3.0.0","o-video":"^4.1.0"},t.stories=[i(811),i(812),i(813),i(814),i(815),i(816),i(817),i(818)],t.knobs=i(819)},810:function(e){e.exports={name:"@financial-times/x-teaser",version:"0.0.0",description:"This module provides templates for use with o-teaser. Teasers are used to present content.",main:"dist/Teaser.cjs.js",module:"dist/Teaser.esm.js",browser:"dist/Teaser.es5.js",types:"Props.d.ts",scripts:{prepare:"npm run build",build:"node rollup.js",start:"node rollup.js --watch"},keywords:["x-dash"],author:"",license:"ISC",dependencies:{"@financial-times/x-engine":"file:../../packages/x-engine",dateformat:"^3.0.3"},devDependencies:{"@financial-times/x-rollup":"file:../../packages/x-rollup"},repository:{type:"git",url:"https://github.com/Financial-Times/x-dash.git"},homepage:"https://github.com/Financial-Times/x-dash/tree/master/components/x-teaser",engines:{node:">= 6.0.0"},publishConfig:{access:"public"}}},811:function(e,t,i){(function(e){const{presets:a}=i(82);t.title="Article",t.data=Object.assign({type:"article",id:"",url:"#",title:"Inside charity fundraiser where hostesses are put on show",altTitle:"Men Only, the charity fundraiser with hostesses on show",standfirst:"FT investigation finds groping and sexual harassment at secretive black-tie dinner",altStandfirst:"Groping and sexual harassment at black-tie dinner charity event",publishedDate:"2018-01-23T15:07:00.000Z",firstPublishedDate:"2018-01-23T13:53:00.000Z",metaPrefixText:"",metaSuffixText:"",metaLink:{url:"#",prefLabel:"Sexual misconduct allegations"},metaAltLink:{url:"#",prefLabel:"FT Investigations"},image:{url:"http://prod-upp-image-read.ft.com/a25832ea-0053-11e8-9650-9c0ad2d7c5b5",width:2048,height:1152},indicators:{isEditorsChoice:!0}},a.SmallHeavy),t.knobs=["id","url","type","showMeta","metaPrefixText","metaSuffixText","metaLink","showTitle","title","altTitle","showStandfirst","standfirst","altStandfirst","showStatus","publishedDate","firstPublishedDate","useRelativeTime","status","showImage","image","imageSize","indicators","headlineTesting","layout","modifiers"],t.m=e}).call(this,i(29)(e))},812:function(e,t,i){(function(e){const{presets:a}=i(82);t.title="Podcast",t.data=Object.assign({type:"audio",id:"d1246074-f7d3-4aaf-951c-80a6db495765",url:"https://www.ft.com/content/d1246074-f7d3-4aaf-951c-80a6db495765",title:"Who sets the internet standards?",standfirst:"Hannah Kuchler talks to American social scientist and cyber security expert Andrea…",altStandfirst:"",publishedDate:"2018-10-24T04:00:00.000Z",firstPublishedDate:"2018-10-24T04:00:00.000Z",metaSuffixText:"12 mins",metaLink:{url:"#",prefLabel:"Tech Tonic podcast"},metaAltLink:null,image:{url:"https://thumborcdn.acast.com/pKDW6uGdnSFB0lH8iZYb8LAumyk=/1500x1500/https://mediacdn.acast.com/assets/d1246074-f7d3-4aaf-951c-80a6db495765/cover-image-jnm16b8a-tt_limbago_1400.jpg",width:1500,height:1500},indicators:{isPodcast:!0}},a.SmallHeavy),t.knobs=["id","url","type","showMeta","metaPrefixText","metaSuffixText","metaLink","showTitle","title","altTitle","showStandfirst","standfirst","altStandfirst","showStatus","publishedDate","firstPublishedDate","useRelativeTime","status","showImage","image","imageSize","indicators","headlineTesting","layout","modifiers"],t.m=e}).call(this,i(29)(e))},813:function(e,t,i){(function(e){const{presets:a}=i(82);t.title="Opinion Piece",t.data=Object.assign({type:"article",id:"",url:"#",title:"Anti-Semitism and the threat of identity politics",altTitle:"",standfirst:"Today, hatred of Jews is mixed in with fights about Islam and Israel",altStandfirst:"Anti-Semitism and identity politics",publishedDate:"2018-04-02T12:22:01.000Z",firstPublishedDate:"2018-04-02T12:22:01.000Z",metaPrefixText:"",metaSuffixText:"",metaLink:{url:"#",prefLabel:"Gideon Rachman"},metaAltLink:{url:"#",prefLabel:"Anti-Semitism"},image:{url:"http://prod-upp-image-read.ft.com/1005ca96-364b-11e8-8b98-2f31af407cc8",width:2048,height:1152},headshot:"fthead-v1:gideon-rachman",indicators:{isOpinion:!0,isColumn:!0}},a.SmallHeavy,{showHeadshot:!0}),t.knobs=["id","url","type","showMeta","metaPrefixText","metaSuffixText","metaLink","showTitle","title","showStandfirst","standfirst","showStatus","publishedDate","firstPublishedDate","useRelativeTime","status","showHeadshot","headshot","showImage","image","imageSize","layout","modifiers","indicators"],t.m=e}).call(this,i(29)(e))},814:function(e,t,i){(function(e){const{presets:a}=i(82);t.title="Content Package",t.data=Object.assign({type:"package",id:"",url:"#",title:"The royal wedding",altTitle:"",standfirst:"Prince Harry and Meghan Markle will tie the knot at Windsor Castle",altStandfirst:"",publishedDate:"2018-05-14T16:38:49.000Z",firstPublishedDate:"2018-05-14T16:38:49.000Z",metaPrefixText:"",metaSuffixText:"",metaLink:{url:"#",prefLabel:"FT Magazine"},metaAltLink:{url:"#",prefLabel:"FT Series"},image:{url:"http://prod-upp-image-read.ft.com/7e97f5b6-578d-11e8-b8b2-d6ceb45fa9d0",width:2048,height:1152}},a.Hero,{modifiers:"centre"}),t.knobs=["id","url","type","showMeta","metaLink","showTitle","title","showStandfirst","standfirst","showStatus","publishedDate","firstPublishedDate","useRelativeTime","showImage","image","imageSize","layout","theme","modifiers"],t.m=e}).call(this,i(29)(e))},815:function(e,t,i){(function(e){const{presets:a}=i(82);t.title="Package item",t.data=Object.assign({type:"article",id:"",url:"#",title:"Why so little has changed since the crash",standfirst:"Martin Wolf on the power of vested interests in today’s rent-extracting economy",publishedDate:"2018-09-02T15:07:00.000Z",firstPublishedDate:"2018-09-02T13:53:00.000Z",metaPrefixText:"FT Series",metaSuffixText:"",metaLink:{url:"#",prefLabel:"Financial crisis: Are we safer now? "},image:{url:"http://prod-upp-image-read.ft.com/a25832ea-0053-11e8-9650-9c0ad2d7c5b5",width:2048,height:1152},indicators:{isOpinion:!0}},a.Hero,{parentTheme:"extra-article",modifiers:"centre"}),t.knobs=["id","url","type","showMeta","metaPrefixText","metaSuffixText","metaLink","showTitle","title","showStandfirst","standfirst","showStatus","publishedDate","firstPublishedDate","useRelativeTime","showImage","image","imageSize","indicators","layout","theme","parentTheme","modifiers"],t.m=e}).call(this,i(29)(e))},816:function(e,t,i){(function(e){const{presets:a}=i(82);t.title="Paid Post",t.data=Object.assign({type:"paid-post",id:"",url:"#",title:"Why eSports companies are on a winning streak",standfirst:"ESports is big business and about to get bigger: global revenues could hit $1.5bn by 2020",promotedPrefixText:"Paid post",promotedSuffixText:"by UBS",image:{url:"https://tpc.googlesyndication.com/pagead/imgad?id=CICAgKCrm_3yahABGAEyCMx3RoLss603",width:700,height:394}},a.SmallHeavy),t.knobs=["id","url","type","showMeta","promotedPrefixText","promotedSuffixText","showTitle","title","showStandfirst","standfirst","showImage","image","imageSize","layout","modifiers"],t.m=e}).call(this,i(29)(e))},817:function(e,t,i){(function(e){const{presets:a}=i(82);t.title="Top Story",t.data=Object.assign({type:"article",id:"",url:"#",title:"Inside charity fundraiser where hostesses are put on show",altTitle:"Men Only, the charity fundraiser with hostesses on show",standfirst:"FT investigation finds groping and sexual harassment at secretive black-tie dinner",altStandfirst:"Groping and sexual harassment at black-tie dinner charity event",publishedDate:"2018-01-23T15:07:00.000Z",firstPublishedDate:"2018-01-23T13:53:00.000Z",metaPrefixText:"",metaSuffixText:"",metaLink:{url:"#",prefLabel:"Sexual misconduct allegations"},metaAltLink:{url:"#",prefLabel:"FT Investigations"},image:{url:"http://prod-upp-image-read.ft.com/a25832ea-0053-11e8-9650-9c0ad2d7c5b5",width:2048,height:1152},relatedLinks:[{id:"",url:"#",type:"article",title:"Removing the fig leaf of charity"},{id:"",url:"#",type:"article",title:"A dinner that demeaned both women and men"},{id:"",url:"#",type:"video",title:"PM speaks out after Presidents Club dinner"}]},a.TopStoryLandscape),t.knobs=["id","url","type","showMeta","metaPrefixText","metaSuffixText","metaLink","showTitle","title","showStandfirst","standfirst","showStatus","publishedDate","firstPublishedDate","useRelativeTime","showImage","image","imageSize","showRelatedLinks","relatedLinks","layout","modifiers"],t.m=e}).call(this,i(29)(e))},818:function(e,t,i){(function(e){const{presets:a}=i(82);t.title="Video",t.data=Object.assign({type:"video",id:"0e89d872-5711-457b-80b1-4ca0d8afea46",url:"#",title:"FT View: Donald Trump, man of steel",standfirst:"The FT's Rob Armstrong looks at why Donald Trump is pushing trade tariffs",publishedDate:"2018-03-26T08:12:28.137Z",firstPublishedDate:"2018-03-26T08:12:28.137Z",metaPrefixText:"",metaSuffixText:"02:51min",metaLink:{url:"#",prefLabel:"Global Trade"},metaAltLink:{url:"#",prefLabel:"US"},image:{url:"http://com.ft.imagepublish.upp-prod-eu.s3.amazonaws.com/a27ce49b-85b8-445b-b883-db6e2f533194",width:1920,height:1080},video:{url:"https://next-media-api.ft.com/renditions/15218247321960/640x360.mp4",width:640,height:360,mediaType:"video/mp4",codec:"h264"}},a.HeroVideo),t.knobs=["id","url","type","showMeta","metaPrefixText","metaSuffixText","metaLink","showTitle","title","showStatus","publishedDate","firstPublishedDate","useRelativeTime","showImage","image","imageSize","showVideo","video","layout","modifiers"],t.m=e}).call(this,i(29)(e))},819:function(e,t){e.exports=((e,{object:t,text:i,number:a,boolean:n,date:s,select:r})=>{const o="Meta",l="Title",d="Standfirst",u="Status",c="Image",h="Headshot",m="Video",f="Related Links",p="Indicators",g="Context",w="Variant",v={showMeta:()=>n("Show meta",e.showMeta,o),showTitle:()=>n("Show title",e.showTitle,l),showStandfirst:()=>n("Show standfirst",e.showStandfirst,d),showStatus:()=>n("Show status",e.showStatus,u),showImage:()=>n("Show image",e.showImage,c),showHeadshot:()=>n("Show headshot",e.showHeadshot,h),showVideo:()=>n("Show video",e.showVideo,m),showRelatedLinks:()=>n("Show related links",e.showRelatedLinks,f)},b={metaPrefixText:()=>i("Meta prefix text",e.metaPrefixText,o),metaSuffixText:()=>i("Meta suffix text",e.metaSuffixText,o),metaLink:()=>({url:e.metaLink.url,prefLabel:i("Meta link",e.metaLink.prefLabel,o)}),metaAltLink:()=>({url:e.metaAltLink.url,prefLabel:i("Alt meta link",e.metaAltLink.prefLabel,o)}),promotedPrefixText:()=>i("Promoted prefix text",e.promotedPrefixText,o),promotedSuffixText:()=>i("Promoted suffix text",e.promotedSuffixText,o)},y={title:()=>i("Title",e.title,l),altTitle:()=>i("Alt title",e.altTitle,l)},x={standfirst:()=>i("Standfirst",e.standfirst,d),altStandfirst:()=>i("Alt standfirst",e.altStandfirst,d)},T={publishedDate:()=>s("Published date",new Date(e.publishedDate),u),firstPublishedDate:()=>s("First published date",new Date(e.firstPublishedDate),u),useRelativeTime:()=>n("Use relative time",e.useRelativeTime,u),status:()=>r("Live blog status",{None:"","Coming soon":"comingsoon","In progress":"inprogress",Closed:"closed"},"",u)},S={image:()=>({url:i("Image URL",e.image.url,c),width:a("Image width",e.image.width,{},c),height:a("Image height",e.image.height,{},c)}),imageSize:()=>r("Image size",["XS","Small","Medium","Large","XL","XXL"],e.imageSize,c)},k={headshot:()=>i("Headshot",e.headshot,h),headshotTint:()=>r("Headshot tint",{Default:""},"Default",h)},_={video:()=>({url:i("Video URL",e.video.url,m),width:a("Video width",e.video.width,{},m),height:a("Video height",e.video.height,{},m),mediaType:e.video.mediaType,codec:e.video.codec})},L={relatedLinks:()=>t("Related links",e.relatedLinks,f)},P={indicators:()=>({accessLevel:r("Access level",["free","registered","subscribed","premium"],e.indicators.accessLevel||"free",p),isOpinion:n("Is opinion",e.indicators.isOpinion,p),isColumn:n("Is column",e.indicators.isColumn,p),isPodcast:n("Is podcast",e.indicators.isPodcast,p),isEditorsChoice:n("Is editor's choice",e.indicators.isEditorsChoice,p),isExclusive:n("Is exclusive",e.indicators.isExclusive,p),isScoop:n("Is scoop",e.indicators.isScoop,p)})},j={headlineTesting:()=>n("Headline testing",!1,g),parentId:()=>i("Parent ID",e.context.parentId,g),parentLabel:()=>i("Parent Label",e.context.parentLabel,g)},D={layout:()=>r("Layout",["small","large","hero","top-story"],e.layout,w),theme:()=>r("Theme",{None:"",Extra:"extra-article","Special Report":"highlight"},e.theme,w),parentTheme:()=>r("Parent theme",{None:"",Extra:"extra-article","Special Report":"highlight"},e.parentTheme,w),modifiers:()=>r("Modifiers",{None:"","Small stacked":"stacked","Small image on right":"image-on-right","Large portrait":"large-portrait","Large landscape":"large-landscape","Hero centre":"centre","Hero image":"hero-image","Top story landscape":"landscape","Top story big":"big-story"},e.modifiers||"",w)};return Object.assign({},v,b,y,x,T,_,k,S,L,P,j,D)})},82:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=i(228),s=(a=i(809))&&"object"==typeof a&&"default"in a?a.default:a,r={media:function(e){return e.showVideo&&e.video&&e.video.url?"video":e.showHeadshot&&e.headshot&&e.indicators.isColumn?"headshot":e.showImage&&e.image&&e.image.url?"image":void 0},theme:function(e){return e.theme?e.theme:"inprogress"===e.status?"live":e.indicators&&e.indicators.isOpinion?"opinion":e.indicators&&e.indicators.isEditorsChoice?"highlight":e.parentTheme?e.parentTheme:void 0}};function o(e,t){if(r.hasOwnProperty(e))return r[e](t);throw Error("No ruleset available named "+e)}var l=function(e){return o("media",e)},d=function(e){var t=[],i=l(e);i&&t.push("has-"+i);var a=function(e){return o("theme",e)}(e);return a&&t.push(a),t},u=function(e){var t=d(e),i=[e.type,e.layout].concat(e.modifiers,t).filter(Boolean).map(function(e){return"o-teaser--"+e}).join(" ");return n.h("div",{className:"o-teaser "+i+" js-teaser","data-id":e.id},e.children)},c=function(e){var t=e.children,i=void 0===t?[]:t;return n.h("div",{className:"o-teaser__content"},i)},h=function(e){var t,i=e.customSlot;return i?n.h("div",{className:"o-teaser__action"},"string"==typeof(t=i)?n.h("span",{dangerouslySetInnerHTML:{__html:t}}):t):null},m={Headshot:75,XS:180,Small:240,Medium:340,Large:420,XL:640,XXL:1180},f="small",p="hero",g="top-story",w=36e5,v=144e5,b="https://www.ft.com/__origami/service/image/v2/images/raw",y=["source=next","fit=scale-down","compression=best"];function x(e,t,i){var a=encodeURIComponent(e),n=b+"/"+a+"?"+y.join("&")+"&width="+t;return i?n+"&"+i:n}var T=function(e){var t=e.headshot,i=(e.headshotTint,["tint=054593,d6d5d3","dpr=2"].join("&"));return t?n.h("img",{className:"o-teaser__headshot",width:m.Headshot,height:m.Headshot,alt:"","aria-hidden":"true",src:x(t,m.Headshot,i)}):null},S=function(e,t){var i={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(i[a]=e[a]);return i},k=function(e){var t=e.url,i=e.attrs,a=void 0===i?{}:i,s=e.children;return t?n.h("a",Object.assign({href:t},a),s):n.h("span",a,s)},_=function(e){var t=e.customElements,i=void 0===t?{}:t,a=S(e,["customElements"]),s=i.Link||k;return n.h(s,a)},L=function(e){var t=e.src;return n.h("img",{className:"o-teaser__image",src:t,alt:""})},P=function(e){var t=e.src,i=e.lazyLoad,a="string"==typeof i?i:"";return n.h("img",{className:"o-teaser__image "+a,"data-src":t,alt:""})},j=function(e){var t,i,a,s=e.relativeUrl,r=e.url,o=e.image,l=e.imageSize,d=e.imageLazyLoad,u=S(e,["relativeUrl","url","image","imageSize","imageLazyLoad"]),c=s||r,h=x(o.url,m[l]),f=d?P:L;return o?n.h("div",{className:"o-teaser__image-container js-teaser-image-container"},n.h("div",{className:"o-teaser__image-placeholder",style:{paddingBottom:(t=o,i=t.width,a=t.height,"number"==typeof i&&"number"==typeof a?(100/i*a).toFixed(4)+"%":null)}},n.h(_,Object.assign({},u,{url:c,attrs:{"data-trackable":"image-link","tab-index":"-1","aria-hidden":"true"}}),n.h(f,{src:h,lazyLoad:d})))):null},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return t&&e.parentLabel&&t===e.parentLabel},O=function(e){var t=e.metaPrefixText,i=e.metaLink,a=e.metaAltLink,s=e.metaSuffixText,r=e.context,o=t&&!D(r,t),l=s&&!D(r,s),d=i&&i.id,u=i&&i.prefLabel,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return t&&e.parentId&&t===e.parentId}(r,d)||D(r,u)?a:i;return n.h("div",{className:"o-teaser__meta-tag"},o?n.h("span",{className:"o-teaser__tag-prefix"},t):null,c?n.h("a",{className:"o-teaser__tag","data-trackable":"teaser-tag",href:c.relativeUrl||c.url},c.prefLabel):null,l?n.h("span",{className:"o-teaser__tag-suffix"},s):null)},I=function(e){var t=e.promotedPrefixText,i=e.promotedSuffixText;return n.h("div",{className:"o-teaser__meta-promoted"},n.h("span",{className:"o-teaser__promoted-prefix"},t),n.h("span",{className:"o-teaser__promoted-by"}," "+i+" "))},C=function(e){var t=e.promotedPrefixText&&e.promotedSuffixText;return n.h("div",{className:"o-teaser__meta"},t?n.h(I,e):n.h(O,e))},M=function(e,t){var i=e.id,a=e.url,s=e.type,r=e.title;return n.h("li",{key:"related-"+t,"data-content-id":i,className:"o-teaser__related-item o-teaser__related-item--"+s},n.h("a",{"data-trackable":"related",href:a},r))},R=function(e){var t=e.relatedLinks,i=void 0===t?[]:t;return i&&i.length?n.h("ul",{className:"o-teaser__related"},i.map(M)):null},N=function(e){var t=e.publishedDate;return n.h("div",{className:"o-teaser__timestamp"},n.h("time",{className:"o-teaser__timestamp-date",dateTime:s(t,s.masks.isoDateTime,!0)},s(t,s.masks.longDate,!0)))};function A(e){return Date.now()-function(e){return"string"==typeof e?new Date(e):"number"==typeof e?new Date(e):e}(e).getTime()}var H=function(e){var t,i,a=e.publishedDate,r=e.firstPublishedDate,o=A(a),l=function(e,t){return A(e)<w?e===t?"new":"updated":""}(a,r);return function(e){return e<v}(o)?n.h("div",{className:"o-teaser__timestamp o-teaser__timestamp--"+l},l?n.h("span",{className:"o-teaser__timestamp-prefix"},l+" "," "):null,n.h("time",{className:"o-teaser__timestamp-date o-date","data-o-component":"o-date","data-o-date-format":"time-ago-limit-4-hours",dateTime:s(a,s.masks.isoDateTime,!0)},l?"":(t=o,(i=Math.floor(Math.abs(t/36e5)))+" "+(0===i?"":(1===i?"hour":"hours")+" ago")))):null},E={inprogress:"Live",comingsoon:"Coming Soon",closed:""},z={inprogress:"live",comingsoon:"pending",closed:"closed"},F=function(e){var t=e.status;return t&&"closed"!==t?n.h("div",{className:"o-teaser__timestamp o-teaser__timestamp--"+z[t]},n.h("span",{className:"o-teaser__timestamp-prefix"},E[t])):null},B=function(e){return e.status?n.h(F,e):e.publishedDate?e.useRelativeTime?n.h(H,e):n.h(N,e):null},U=function(e){var t=e.standfirst,i=e.altStandfirst,a=e.headlineTesting&&i?i:t;return a?n.h("p",{className:"o-teaser__standfirst"},a):null},V=function(e){var t=e.title,i=e.altTitle,a=e.headlineTesting,s=e.relativeUrl,r=e.url,o=e.indicators,l=S(e,["title","altTitle","headlineTesting","relativeUrl","url","indicators"]),d=a&&i?i:t,u=s||r;return n.h("div",{className:"o-teaser__heading"},n.h(_,Object.assign({},l,{url:u,attrs:{"data-trackable":"heading-link",className:"js-teaser-heading-link"}}),d," "),o&&"premium"===o.accessLevel?n.h("span",{className:"o-labels o-labels--premium","aria-label":"Premium content"},"Premium"):null)},Z=function(e){return n.h("div",{className:"o-teaser__image-container js-image-container"},n.h("div",{className:"o-video","data-o-component":"o-video","data-o-video-id":e.id,"data-o-video-data":function(e){return JSON.stringify({renditions:[e.video],mainImageUrl:e.image?e.image.url:null})}(e),"data-o-video-autorender":"true","data-o-video-playsinline":"true","data-o-video-placeholder":"true","data-o-video-placeholder-info":"[]","data-o-video-placeholder-hint":"Play video"}))},X=function(e){return n.h("div",{className:"o-teaser__video"},n.h("div",{className:"o--if-js"},n.h(Z,e)),n.h("div",{className:"o--if-no-js"},n.h(j,e)))},W={Small:{layout:f,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStatus:!0},SmallHeavy:{layout:f,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStandfirst:!0,showStatus:!0,showImage:!0,imageSize:"Small"},Large:{layout:"large",useRelativeTime:!0,showMeta:!0,showTitle:!0,showStandfirst:!0,showStatus:!0,showImage:!0,imageSize:"Medium"},Hero:{layout:p,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStatus:!0,showImage:!0,imageSize:"Medium"},HeroNarrow:{layout:p,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStandfirst:!0,showStatus:!0},HeroVideo:{layout:p,useRelativeTime:!0,showMeta:!0,showTitle:!0,showVideo:!0,imageSize:"Large"},HeroOverlay:{layout:p,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStatus:!0,showImage:!0,imageSize:"XL",modifiers:["hero-image"]},TopStory:{layout:g,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStandfirst:!0,showStatus:!0,showRelatedLinks:!0},TopStoryLandscape:{layout:g,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStandfirst:!0,showStatus:!0,showImage:!0,imageSize:"XL",showRelatedLinks:!0,modifiers:["landscape"]}};t.Container=u,t.Content=c,t.CustomSlot=h,t.Headshot=T,t.Image=j,t.Meta=C,t.RelatedLinks=R,t.Standfirst=U,t.Status=B,t.Teaser=function(e){return n.h(u,e,n.h(c,null,e.showMeta?n.h(C,e):null,"video"===l(e)?n.h(X,e):null,e.showTitle?n.h(V,e):null,e.showStandfirst?n.h(U,e):null,e.showStatus?n.h(B,e):null,e.showCustomSlot?n.h(h,e):null,"headshot"===l(e)?n.h(T,e):null),"image"===l(e)?n.h(j,e):null,e.showRelatedLinks?n.h(R,e):null)},t.Title=V,t.Video=X,t.presets=W},820:function(e,t,i){const{Increment:a}=i(821);t.component=a,t.package=i(824),t.stories=[i(825),i(826)],t.knobs=i(827)},821:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(228),n=i(822),s=n.withActions(function(e){var t=e.timeout;return{increment:function(){var e=arguments;return new Promise(function(i,a){var n,s,r;return n=(e.length>0&&void 0!==e[0]?e[0]:{}).amount,s=void 0===n?1:n,(r=t,new Promise(function(e){return setTimeout(e,r)})).then(function(e){try{return i(function(e){return{count:e.count+s}})}catch(e){return a(e)}},a)})}}})(function(e){var t=e.count,i=e.actions.increment,n=e.isLoading;return a.h("div",null,a.h("span",null,t),a.h("button",{onClick:function(){return i()},disabled:n},n?"Loading...":"Increment"))});t.Increment=s},822:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=i(228),s=(a=i(823))&&"object"==typeof a&&"default"in a?a.default:a,r=function(e){var t=e.id,i=e.actions,a=e.state,s=e.initialState,r=e.inFlight,o=e.Component;return n.h(o,Object.assign({},s,a,{id:t,actions:i},{isLoading:r>0}))},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},l=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),d=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},u=function(e,t){var i={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(i[a]=e[a]);return i},c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},h=function(e,t){return Object.keys(e).reduce(function(i,a){return Object.assign(i,function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({},a,t(e[a],a,e)))},{})},m=function(e){function t(e){for(var i,a=arguments.length,n=Array(a>1?a-1:0),s=1;s<a;s++)n[s-1]=arguments[s];o(this,t);var r=c(this,(i=t.__proto__||Object.getPrototypeOf(t)).call.apply(i,[this,e].concat(n)));return r.state={state:{},inFlight:0},r.actions=h(e.actions,function(t){return function(){var i=arguments;return new Promise(function(a,n){var s,o;return Promise.resolve().then(function(){r.setState(function(e){return{inFlight:e.inFlight+1}})}),Promise.resolve(t.apply(void 0,i)).then(function(t){try{return s=t,new Promise(function(t,i){return"function"==typeof s?Promise.resolve(s(Object.assign({},e.initialState,r.state.state))).then(function(e){try{return t(Object.assign(r.state.state,e))}catch(e){return i(e)}},i):t(Object.assign(r.state.state,s))}).then(function(e){try{return o=e,a(new Promise(function(e){return r.setState({state:o},function(){return r.setState(function(e){return{inFlight:e.inFlight-1}},e)})}))}catch(e){return n(e)}},n)}catch(e){return n(e)}},n)})}}),r}return d(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.actionsRef&&this.props.actionsRef(this.actions)}},{key:"componentWillUnmount",value:function(){this.props.actionsRef&&this.props.actionsRef(null)}},{key:"render",value:function(){return n.h(r,Object.assign({},this.props,this.state,{actions:this.actions}))}}]),t}(n.Component),f=function(e){return e.displayName||e.name||"Unknown"};var p={};var g=function(e){function t(){return o(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,i=t.Component,a=t.props,s=t.id;return n.h(i,Object.assign({},a,{id:s,actionsRef:function(t){return e.actions=t}}))}},{key:"componentDidMount",value:function(){this.props.wrapper&&this.props.wrapper.addEventListener("x-interaction.trigger-action",this)}},{key:"componentWillUnmount",value:function(){this.props.wrapper&&this.props.wrapper.removeEventListener("x-interaction.trigger-action",this)}},{key:"handleEvent",value:function(e){var t,i=e.detail,a=i.action,n=i.args,s=void 0===n?[]:n;this.actions&&this.actions[a]&&(t=this.actions)[a].apply(t,function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(s))}}]),t}(n.Component);var w=function(e){var t=e.serialiser;if(t){var i=t.flushHydrationData();return n.h("script",{dangerouslySetInnerHTML:{__html:"window._xDashInteractionHydrationData = "+JSON.stringify(i)}})}return null},v=function(){function e(){o(this,e),this.destroyed=!1,this.data=[]}return l(e,[{key:"addData",value:function(e){var t=e.id,i=e.Component,a=e.props;if(this.destroyed)throw new Error("an interaction component was rendered after flushHydrationData was called. ensure you're outputting the hydration data after rendering every component");this.data.push({id:t,component:f(i),props:a})}},{key:"flushHydrationData",value:function(){if(this.destroyed)throw new Error("a Serialiser's flushHydrationData was called twice. ensure you're not reusing a Serialiser between requests");return this.destroyed=!0,this.data}},{key:"outputHydrationData",value:function(){return n.render(n.h(w,{serialiser:this}))}}]),e}(),b="undefined"!=typeof window?m:function(e){var t=e.initialState,i=e.Component,a=e.id,o=void 0===a?f(i)+"-"+s():a,l=e.actions,d=e.serialiser;return d&&d.addData({id:o,Component:i,props:t}),n.h("div",{"data-x-dash-id":o},n.h(r,{Component:i,initialState:t,id:o,actions:l}))},y=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return"function"==typeof e?e.apply(void 0,i):e};t.withActions=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(i){var a,s={getActions:e,getDefaultState:t,Component:i};if(i._wraps){var r=i._wraps.getActions,o=i._wraps.getDefaultState;i=i._wraps.Component,e=function(e){return Object.assign(y(r,e),y(s.getActions,e))},t=function(e){return Object.assign(y(o,e),y(s.getDefaultState,e))}}function l(a){var s=a.id,r=a.actionsRef,o=a.serialiser,l=u(a,["id","actionsRef","serialiser"]),d=y(e,l),c=y(t,l);return n.h(b,{id:s,Component:i,initialState:Object.assign({},c,l),actionsRef:r,serialiser:o,actions:d})}return l._wraps=s,function(e,t){var i=f(e);t.displayName="withActions("+i+")",t.wrappedDisplayName=i}(i,l),p[(a=l).wrappedDisplayName]=a,l}},t.hydrate=function(){if("undefined"==typeof window)throw new Error("x-interaction hydrate should only be called in the browser");if(!("_xDashInteractionHydrationData"in window))throw new Error("x-interaction hydrate was called without hydration data available. this can happen if you call hydrate before the serialised data is available, or if you're not including the hydration data with your server-rendered markup.");var e="make sure you're always outputting the serialiser's data in the same request that the serialiser was created. see https://financial-times.github.io/x-dash/components/x-interaction/#hydrating for more details.";window._xDashInteractionHydrationData.forEach(function(t){var i=t.id,a=t.component,s=t.props,r=document.querySelector('[data-x-dash-id="'+i+'"]');if(!r)throw new Error("component markup for "+i+" was not found on the page. It was expected to be an instance of "+a+". it's likely that this hydration data is from another request. "+e);for(var o=p[a];r.firstChild;)r.removeChild(r.firstChild);n.render(n.h(g,{Component:o,props:s,id:i,wrapper:r}),r)}),document.querySelectorAll("[data-x-dash-id]").forEach(function(t){var i=t.dataset.xDashId;if(!window._xDashInteractionHydrationData.some(function(e){return e.id===i}))throw new Error("found component markup for "+i+" without any hydration data. it's likely that its hydration data has been output in another request, or that the component was rendered after the serialisation data was output. "+e)})},t.HydrationData=w,t.Serialiser=v},824:function(e){e.exports={name:"@financial-times/x-increment",version:"0.0.0",private:!0,description:"",main:"dist/Increment.cjs.js",module:"dist/Increment.esm.js",browser:"dist/Increment.es5.js",scripts:{prepare:"npm run build",build:"node rollup.js",start:"node rollup.js --watch"},keywords:[],author:"",license:"ISC",devDependencies:{"@financial-times/x-rollup":"file:../../packages/x-rollup","@financial-times/x-test-utils":"file:../../packages/x-test-utils"},dependencies:{"@financial-times/x-engine":"file:../../packages/x-engine","@financial-times/x-interaction":"file:../x-interaction"}}},825:function(e,t,i){(function(e){t.title="Increment",t.data={count:1,id:"base-increment-static-id"},t.m=e}).call(this,i(29)(e))},826:function(e,t,i){(function(e){t.title="Async";const i={count:1,timeout:1e3,id:"base-increment-static-id"};t.data=i,t.knobs=Object.keys(i),t.m=e}).call(this,i(29)(e))},827:function(e,t){e.exports=((e,{number:t})=>({count:()=>t("Count",e.count,{})}))},828:function(e,t,i){const{Button:a}=i(829);t.component=a,t.package=i(831),t.stories=[i(832)],t.knobs=((e,{boolean:t})=>({danger:()=>t("Danger",e.danger),large:()=>t("Large",e.large)}))},829:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=i(228),s=(a=i(830))&&"object"==typeof a&&"default"in a?a.default:a,r="Button_button__vS7Mv",o="Button_large__1R9sG",l="Button_danger__2t8xa",d=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e};t.Button=function(e){var t,i=e.large,a=e.danger;return n.h("button",{className:s(r,(t={},d(t,o,i),d(t,l,a),t))},"Click me!")}},831:function(e){e.exports={name:"@financial-times/x-styling-demo",version:"0.0.0",description:"",main:"dist/Button.cjs.js",browser:"dist/Button.es5.js",module:"dist/Button.esm.js",style:"dist/Button.css",private:!0,scripts:{prepare:"npm run build",build:"node rollup.js",start:"node rollup.js --watch"},keywords:[],author:"",license:"ISC",devDependencies:{"@financial-times/x-rollup":"file:../../packages/x-rollup"},dependencies:{"@financial-times/x-engine":"file:../../packages/x-engine",classnames:"^2.2.6"},engines:{node:">= 6.0.0"}}},832:function(e,t,i){(function(e){t.title="Styling",t.data={danger:!1,large:!1},t.knobs=["danger","large"],t.m=e}).call(this,i(29)(e))}},[[598,2,4]]]);
//# sourceMappingURL=iframe.2c1ca04343b043fd8b67.bundle.js.map